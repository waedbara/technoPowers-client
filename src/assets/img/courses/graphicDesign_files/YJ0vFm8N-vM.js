if (self.CavalryLogger) { CavalryLogger.start_js(["AAf+b"]); }

__d("PrivacyBaseFilterConst",[],(function(a,b,c,d,e,f){e.exports={FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,FACEBOOK_EMPLOYEE_DOGFOODING:113,CUSTOM:111,EVERYONE:80,EVERYONE_MINOR_DEPRECATED:75,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,MUTUAL_FRIENDS_DEPRECATED:35,SELF:10,NOBODY:0}}),null);
__d("QualityOfConnectionsExperimentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:QualityOfConnectionsExperimentLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:QualityOfConnectionsExperimentLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:QualityOfConnectionsExperimentLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExperimentGroup=function(a){this.$1.experiment_group=a;return this};c.setFollowPage=function(a){this.$1.follow_page=a;return this};c.setLikePage=function(a){this.$1.like_page=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={error:!0,event:!0,experiment_group:!0,follow_page:!0,like_page:!0,page_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XFollowPrivacyNuxLogViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/follow/follow_privacy/nux/log/view/",{})}),null);
__d("XPagesQualityOfConnectionsExperimentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/quality_of_connections_experiment/",{page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XPubcontentChainedSuggestionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/chained_suggestions/",{pageid:{type:"String"},profileid:{type:"Int"},eh:{type:"Bool",defaultValue:!1},friendid:{type:"Int"}})}),null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","QualityOfConnectionsExperimentTypedLogger","TooltipData","XFollowPrivacyNuxLogViewAsyncController","XPagesQualityOfConnectionsExperimentController","XPubcontentChainedSuggestionsController","qex"],(function(a,b,c,d,e,f){__p&&__p();var g={SUBSCRIBED:"FollowingUser",UNSUBSCRIBED:"UnfollowingUser",_enable:function(a){b("Button").setEnabled(a,!0),b("TooltipData").remove(a)},_disable:function(a,c){b("Button").setEnabled(a,!1),c&&b("TooltipData").set(a,c)},init:function(a,c,d,e,f,h,i,j,k,l,m,n,o,p,q){__p&&__p();q===void 0&&(q=!1);var r=!m&&!o,s=!(k===void 0||k===null);s&&!i&&!j&&g._disable(c,k);b("Event").listen(c,"click",function(){__p&&__p();b("Arbiter").inform(g.SUBSCRIBED,{profile_id:e,contextID:n,suppress:!0});if(l){l.show();var a=b("XFollowPrivacyNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).send()}if(p){a=b("XPagesQualityOfConnectionsExperimentController").getURIBuilder().setFBID("page_id",e).getURI();new(b("AsyncRequest"))().setURI(a).send()}if(q){a=b("qex")._("812260");a!==null&&new(b("QualityOfConnectionsExperimentTypedLogger"))().setExperimentGroup(a).setEvent("CLICK_FOLLOW").setPageID(e).log()}});b("Arbiter").subscribe(g.SUBSCRIBED,function(k,l){__p&&__p();if(e==l.profile_id){f||d.suppressNextMouseEnter&&d.suppressNextMouseEnter();s&&(typeof l.connected!=="undefined"&&(i=l.connected),(i||j)&&g._enable(c));l.focusOnClick!==void 0&&(r=l.focusOnClick);a.swap(r);if(h===!0&&l.chaining!==!1){k=b("XPubcontentChainedSuggestionsController").getURIBuilder().setInt("profileid",e).getURI();new(b("AsyncRequest"))().setURI(k).send()}}});b("Arbiter").subscribe(g.UNSUBSCRIBED,function(f,h){e==h.profile_id&&(a.unswap(r),d.hideFlyout&&d.hideFlyout(),s&&(typeof h.connected!=="undefined"&&(i=h.connected),!i&&!j&&g._disable(c,k)),b("Arbiter").inform("SubMenu/Reset"))})},initSubscribe:function(a,c){b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.SUBSCRIBED,{profile_id:c}),0)})},initUnsubscribe:function(a,c,d,e){e===void 0&&(e=!1),b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.UNSUBSCRIBED,{profile_id:c,contextID:d}),0);if(e){var a=b("qex")._("812260");a!==null&&new(b("QualityOfConnectionsExperimentTypedLogger"))().setExperimentGroup(a).setEvent("CLICK_UNFOLLOW").setPageID(c).log()}})},initSubscribeMenuItem:function(a,c,d){b("CSS").hide(c),this._initMenuItem(a,c,d)},initUnsubscribeMenuItem:function(a,c,d){b("CSS").hide(a),this._initMenuItem(a,c,d)},_initMenuItem:function(a,c,d){this.initSubscribe(a,d),this.initUnsubscribe(c,d),b("Arbiter").subscribe(g.SUBSCRIBED,function(d,e){b("CSS").hide(a),b("CSS").show(c)}),b("Arbiter").subscribe(g.UNSUBSCRIBED,function(d,e){b("CSS").hide(c),b("CSS").show(a)})}};e.exports=g}),null);
__d("XPubcontentInlinePhotoPivotsEventsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/inline_photo_pivots_chaining/events/",{})}),null);
__d("EntstreamAttachmentRelatedShare",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","SubscribeButton","XPubcontentInlinePhotoPivotsEventsController","ge","getOrCreateDOMID","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=2,j=3;a={loadSuggestedShowsPivotAttachment:function(a,c,d){var e=b("ge")(a);if(!e)return;var f=b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,g){f.unsubscribe();if(g.profile_id!==c.toString())return;b("Arbiter").inform("show_follow_click",{attachment:e,pageID:c,storyID:d})})},loadRelatedAttachment:function(a,c,d){var e=null;typeof a==="string"?e=b("ge")(a):e=a;if(!e)return;var f=b("Event").listen(e,"click",function(){f.remove(),b("Arbiter").inform("article_click",{attachment:e,global_share_id:c,is_right_click:!1,share_id:d})}),g=b("Event").listen(e,"mousedown",function(a){(a.which===j||a.button===i)&&(g.remove(),b("Arbiter").inform("article_click",{attachment:e,global_share_id:c,is_right_click:!0}))})},loadInlineStoryPivotAttachment:function(a,c){var d=b("ge")(a);if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform("photo_click",{attachment:d,storyid:c})})},loadRelatedGameAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("game_click",{attachment:d,global_share_id:c})}));b("tidyEvent")(b("Event").listen(d,"mousedown",function(a){(a.which===j||a.button===i)&&b("Arbiter").inform("game_click",{attachment:d,global_share_id:c})}))},loadRelatedLSCVideoAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform("video_click",{attachment:d,global_share_id:c})})},loadRelatedLSCInlineVideoAttachment:function(a,c){__p&&__p();var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("Event").listen(d,"click",function(){__p&&__p();var a="^div._4-u2",e="_1d8v";a=b("DOM").scry(d,a);a=a.length===1?a[0]:null;var f=a.parentNode,g=f.previousSibling;while(!g)f=f.parentNode,g=f.previousSibling;if(!b("CSS").hasClass(g,e))var f=b("DOM").create("div",{className:e}),e=b("DOM").insertBefore(a.parentNode,f),a=e.length>=1?e[0]:null;else a=g;f=b("getOrCreateDOMID")(a);new(b("AsyncRequest"))().setURI("/ajax/flash/expand_inline.php").setData({share_id:c,target_div:f,max_width:470,max_height:264,replace_target_div:!0}).setMethod("GET").setReadOnly(!0).setRelativeTo(d.parentNode).send()})},loadRelatedEventsPivotAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("event_join",{attachment:d,event_id:c})}))},loadMapAttachment:function(a,c,d){a=typeof a==="string"?b("ge")(a):a;if(!a)return;var e=typeof c==="string"?b("ge")(c):c;if(!e)return;b("tidyEvent")(b("Event").listen(a,"click",function(){b("Arbiter").inform("map_click",{attachment:e,story_id:d})}))},loadMapAttachmentActionButton:function(a,c){var d=typeof a==="string"?b("ge")(a):a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("action_button_click",{button:d,story_id:c})}))},closeButton:function(a,c){b("Event").listen(a,"click",function(){b("DOM").remove(c)})},closeButtonPhotoPivots:function(a,c,d,e){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),f={story_id:d,search_query_type:e,event:"hide"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(f).send();b("DOM").remove(c)})},seeAllLinkPhotoPivots:function(a,c,d){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),e={story_id:c,search_query_type:d,event:"see_all"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(e).send()})},removeOldSuggestions:function(a){a=b("ge")(a);if(!a)return;var c=b("DOM").scry(a.parentNode,"._5d73");for(var a=1;a<c.length;a++)b("DOM").remove(c[a]);window.setTimeout(function(){b("CSS").show(c[0])},1e3)},showHiddenSuggestions:function(a){__p&&__p();var c=b("Event").listen(a,"click",function(){c.remove();var d="^._1ui8";d=b("DOM").scry(a,d);if(!d)return;b("CSS").hide(d[0]);d=d[0].previousSibling;while(d)b("CSS").show(d),d=d.previousSibling})}};e.exports=a}),null);
__d("FeedBlacklistButton",["Arbiter","Event"],(function(a,b,c,d,e,f){__p&&__p();var g={BLACKLIST:"feed_blacklist",UNBLACKLIST:"feed_unblacklist",init:function(a,c,d,e){b("Event").listen(c,"click",function(){var a={profile_id:e};b("Arbiter").inform(g.BLACKLIST,a);b("Arbiter").inform("UnfollowingUser",a)}),b("Event").listen(d,"click",function(){var a={profile_id:e};b("Arbiter").inform(g.UNBLACKLIST,a);b("Arbiter").inform("FollowingUser",a)}),b("Arbiter").subscribe(g.BLACKLIST,function(b,c){e==c.profile_id&&a.swap()}),b("Arbiter").subscribe(g.UNBLACKLIST,function(b,c){e==c.profile_id&&a.unswap()})}};e.exports=a.FeedBlacklistButton||g}),null);
__d("XFeedSeeFirstNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/control/see_first/nux/",{})}),null);
__d("ProfileHoverButton",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuStaticItem","QE2Logger","Run","SubscribeButton","SubscriptionsHandler","XFeedSeeFirstNuxController"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=1,j="live_notifs",k={follow:0,see_first:0,see_more:0,highlights_only:0,subscribe_all_live_notifications:j,subscribe_suggested_live_notifications:j,subscribe_none_live_notifications:j};a=function(){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$1=c;this.$2=d;this.$3=f;this.$4=e;this.$5=a;this.$6=null;this.$7=new(b("SubscriptionsHandler"))();this.$5.getPopover().subscribe("show",function(){b("QE2Logger").logExposureForUser("feed_control_highlight_only")});this.$2.subscribe("itemclick",function(a,c){if(c.item instanceof b("MenuStaticItem"))return;a=c.item.getValue();a==="unfollow"?(b("Arbiter").inform(b("SubscribeButton").UNSUBSCRIBED,{profile_id:this.$3.id}),b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,{profile_id:this.$3.id}),this.$4&&this.$4.hide(),this.$5.getPopover().hideLayer()):(this.setSelected(a),a==="see_first"?(this.$4&&(this.$4.hide(),this.logNux("see_first_selected")),b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!0,see_more:!1,highlights_only:!1})):a==="see_more"?b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1,see_more:!0,highlights_only:!1}):a==="highlights_only"?b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1,see_more:!1,highlights_only:!0}):b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1,see_more:!1,highlights_only:!1}))}.bind(this));this.$7.addSubscriptions(b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,b){if(g.$3.id!==b.profile_id)return;b.see_first?g.setSelected("see_first"):b.see_more?g.setSelected("see_more"):b.highlights_only?g.setSelected("highlights_only"):g.setSelected("follow")}));this.$7.addSubscriptions(b("Arbiter").subscribe("revert",this.handleResponse.bind(this)));this.$4&&(this.$4.show(),this.logNux("imp"),this.$7.addSubscriptions(b("Event").listen(b("DOM").find(this.$4.getRoot(),"._50zy"),"click",this.logNux.bind(this,"xout"))));b("Run").onLeave(this.cleanUp.bind(this))}var c=a.prototype;c.logNux=function(a){var c=b("XFeedSeeFirstNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({event:a,id:this.$3.id}).send()};c.getButtons=function(){return b("DOM").scry(this.$1,"._3oz-")};c.getSelected=function(){var a=this.getButtons(),c=null;a.forEach(function(a){var d=a.getAttribute("data-status");b("CSS").matchesSelector(a,"._52-0")&&(c=d)});return c};c.setSelected=function(a){__p&&__p();this.$6=this.getSelected();var c=this.getButtons(),d=k[a];c.forEach(function(c){if(d===j)return;var e=c.getAttribute("data-status");e===a?b("CSS").addClass(c,"_52-0"):b("CSS").removeClass(c,"_52-0")});this.$2.forEachItem(function(c){if(!c.getValue)return;var e=c.getValue(),f=k[e];if(e==="unfollow")return;c=c.getRoot();e===a?b("CSS").addClass(c,"_52-0"):f===d&&b("CSS").removeClass(c,"_52-0")})};c.handleResponse=function(a,b){if(b.id!==this.$3.id||b.location!==i)return;a==="revert"&&this.revert()};c.revert=function(){if(this.$6===null)return;this.setSelected(this.$6)};c.cleanUp=function(){this.$7&&this.$7.release(),this.$7=null,this.$1=null,this.$2=null,this.$3=null};return a}();e.exports=a}),null);
__d("SeeFirstProfilePopoverMenu",["PopoverMenu"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c._onMenuDone=function(a){};return b}(b("PopoverMenu"));e.exports=a}),null);
__d("IntegrityContextTriggerBootloader",["Bootloader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){a=a.triggerLoggerExtraData||null;b=b&&b.getExtraDataForTriggerLogger()||null;return babelHelpers["extends"]({},a,b)}function a(a){b("Bootloader").loadModules(["IntegrityContextTriggerGlimpseAnimator","IntegrityContextTriggerLoggerManager"],function(b,c){var d=b.initAnim(a);b=function(){return g(a,d)};c.initLogger(a,b)},"IntegrityContextTriggerBootloader")}e.exports={bootload:a}}),null);
__d("MenuDeprecated",["ArbiterMixin","CSS","DataStore","DOM","Event","HTML","Keys","Parent","Style","UserAgent_DEPRECATED","emptyFunction","mixin","Run"],(function(a,b,c,d,e,f){__p&&__p();var g="menu:mouseover",h=null;function i(a){return b("CSS").hasClass(a,"uiMenuContainer")?a:b("Parent").byClass(a,"uiMenu")}function j(a){return b("Parent").byClass(a,"uiMenuItem")}function k(a){if(document.activeElement){var b=j(document.activeElement);return a.indexOf(b)}return-1}function l(a){return b("DOM").find(a,"a.itemAnchor")}function m(a){return b("CSS").hasClass(a,"checked")}function n(a){return!b("CSS").hasClass(a,"disabled")&&b("Style").get(a,"display")!=="none"}function o(a){var c=document.activeElement;if(!c||!b("Parent").byClass(c,"uiMenu")||!b("DOM").isInputNode(c)){c=j(a.getTarget());c&&r.focusItem(c)}}function p(a){b("UserAgent_DEPRECATED").firefox()&&l(a).blur(),r.inform("select",{menu:i(a),item:a})}var q=function(){__p&&__p();q=b("emptyFunction");var a={};a.click=function(a){a=j(a.getTarget());if(a&&n(a)){p(a);a=l(a);var b=a.href;a=a.getAttribute("rel");return a&&a!=="ignore"||b&&b.charAt(b.length-1)!=="#"}};a.keydown=function(a){__p&&__p();var c=a.getTarget();if(a.getModifiers().any)return;if(!h||b("DOM").isInputNode(c))return;var d=b("Event").getKeyCode(a),e;switch(d){case b("Keys").UP:case b("Keys").DOWN:var f=r.getEnabledItems(h);e=k(f);r.focusItem(f[e+(d===b("Keys").UP?-1:1)]);return!1;case b("Keys").SPACE:f=j(c);f&&(p(f),a.prevent());break;default:c=String.fromCharCode(d).toLowerCase();f=r.getEnabledItems(h);e=k(f);a=e;d=f.length;while(~e&&(a=++a%d)!==e||!~e&&++a<d){var g=r.getItemLabel(f[a]);if(g&&g.charAt(0).toLowerCase()===c){r.focusItem(f[a]);return!1}}}};b("Event").listen(document.body,a)};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.focusItem=function(a){a&&n(a)&&(this.$removeSelected(i(a)),b("CSS").addClass(a,"selected"),l(a).focus())};d.getEnabledItems=function(a){return r.getItems(a).filter(n)};d.getCheckedItems=function(a){return r.getItems(a).filter(m)};d.getItems=function(a){return b("DOM").scry(a,"li.uiMenuItem")};d.getItemLabel=function(a){return a.getAttribute("data-label",2)||""};d.isItemChecked=function(a){return b("CSS").hasClass(a,"checked")};d.autoregister=function(a,b,c){a.subscribe("show",function(){r.register(b,c)}),a.subscribe("hide",function(){r.unregister(b)})};d.register=function(a,c){a=i(a),q(),b("DataStore").get(a,g)||b("DataStore").set(a,g,b("Event").listen(a,"mouseover",o)),c!==!1&&(h=a)};d.setItemEnabled=function(a,c){!c&&!b("DOM").scry(a,"span.disabledAnchor")[0]&&b("DOM").appendContent(a,b("DOM").create("span",{className:b("DOM").find(a,"a").className+" disabledAnchor"},b("HTML")(l(a).innerHTML))),b("CSS").conditionClass(a,"disabled",!c)};d.toggleItem=function(a){var b=!r.isItemChecked(a);r.setItemChecked(a,b)};d.setItemChecked=function(a,c){b("CSS").conditionClass(a,"checked",c),l(a).setAttribute("aria-checked",c)};d.unregister=function(a){a=i(a);var c=b("DataStore").remove(a,g);c&&c.remove();h=null;this.$removeSelected(a)};d.$removeSelected=function(a){r.getItems(a).filter(function(a){return b("CSS").hasClass(a,"selected")}).forEach(function(a){b("CSS").removeClass(a,"selected")})};return c}(b("mixin")(b("ArbiterMixin")));var r=new a();e.exports=r}),null);
__d("SubscriptionLevels",[],(function(a,b,c,d,e,f){a=Object.freeze({ALL:"162318810514679",DEFAULT:"271670892858696",TOP:"266156873403755"});e.exports=a}),null);
__d("EditSubscriptions",["csx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){__p&&__p();var h=45,i=[b("SubscriptionLevels").ALL,b("SubscriptionLevels").DEFAULT,b("SubscriptionLevels").TOP],j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u="/ajax/follow/follow_profile.php",v="/ajax/follow/unfollow_profile.php",w="/ajax/settings/notifications/notify_me.php",x={},y={},z={},A=null,B={};function C(a){return i.includes(a)}function D(a,c,d,e){__p&&__p();e=b("Parent").byClass(e,"uiMenuItem")||b("Parent").bySelector(e,"._54ni");var f=b("getOrCreateDOMID")(a);if(!e||!b("DOM").contains(a,e))return;else if(b("CSS").hasClass(e,"SubscribeMenuSubscribeCheckbox")){l[c]?I(f,c):H(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuUnsubscribe")){I(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuSettingsItem")){U(a,!0);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuGoBack")){U(a,!1);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuItem")){F(a,c,d,e);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuNotifyMeCheckbox")){E(a,c);return!1}}function E(a,b){m[b]?Y(a,b):X(a,b)}function F(a,c,d,e){if(b("CSS").hasClass(e,"SubscriptionMenuLevel")){if(b("MenuDeprecated").isItemChecked(e))return;S(a,c,L(e),!0,d)}else b("CSS").hasClass(e,"SubscriptionMenuCategory")?P(c,e,!b("MenuDeprecated").isItemChecked(e),!0,d):b("CSS").hasClass(e,"SubscriptionAppStory")&&R(c,e,!b("MenuDeprecated").isItemChecked(e),d)}function G(a){return B[a]?B[a]:0}function H(a,c){var d={profile_id:c};b("Arbiter").inform("FollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,d);new(b("AsyncRequest"))().setURI(u).setMethod("POST").setData({profile_id:c,location:G(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"FollowUserFail",d)).send()}function I(a,c){var d={profile_id:c};b("Arbiter").inform("UnfollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,d);new(b("AsyncRequest"))().setURI(v).setMethod("POST").setData({profile_id:c,location:G(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"UnfollowUserFail",d)).send()}function J(a,c,d){c={profile_id:a,level:q[a],custom_categories:r[a],location:d};new(b("AsyncRequest"))().setURI("/ajax/follow/manage_subscriptions.php").setData(c).send()}function K(a,c){__p&&__p();var d=r[c]||[],e=b("MenuDeprecated").getItems(a);e.forEach(function(a){if(b("CSS").hasClass(a,"SubscriptionMenuCategory")){var e=L(a);d.includes(e)?N(a):O(a)}else if(b("CSS").hasClass(a,"SubscriptionAppStory")){e=L(a);z[c]&&z[c][e]?N(a):O(a)}});S(a,c,q[c],!1)}function L(a){a=b("DOM").scry(a,"input")[0];return a&&a.value}function M(a){return b("DOM").find(a,"a.itemAnchor")}function N(a){b("CSS").addClass(a,"checked"),M(a).setAttribute("aria-checked",!0)}function O(a){b("CSS").removeClass(a,"checked"),M(a).setAttribute("aria-checked",!1)}function P(a,b,c,d,e){__p&&__p();c?N(b):O(b);b=L(b);if(C(b))c&&Q(a,b);else if(c)r[a].includes(b)||r[a].push(b);else{c=r[a].indexOf(b);c!==-1&&r[a].splice(c,1)}d&&J(a,b,e)}function Q(a,c){q[a]=c,b("Arbiter").inform("SubscriptionLevelUpdated",{profile_id:a,level:c})}function R(a,c,d,e){e="/ajax/feed/filter_action/";var f=L(c),g={actor_id:a,app_id:f};d?(N(c),e+="resubscribe_user_app/",g.action="resubscribe_user_app",z[a]||(z[a]={}),z[a][f]=!0):(O(c),e+="unsubscribe_user_app_checkbox/",g.action="unsubscribe_user_app_checkbox",z[a]&&(z[a][f]=!1));new(b("AsyncRequest"))().setURI(e).setData(g).send()}function S(a,c,d,e,f){a=b("DOM").scry(a,".SubscriptionMenuLevel");var g=null;a.forEach(function(a){L(a)==d?g=a:b("MenuDeprecated").isItemChecked(a)&&P(c,a,!1,!1)});g&&P(c,g,!0,e,f)}function T(a,c,d){l[c]=d;b("CSS").conditionClass(a,"isUnsubscribed",!d);c=b("DOM").scry(a,"li.SubscribeMenuSubscribeCheckbox");if(c.length!==0){a=c[0];d?N(a):O(a)}}function U(a,c){b("CSS").conditionClass(a,"subscriptionMenuOpen",c)}function V(a,c,d){c=b("DOM").find(a,".FriendListSubscriptionsMenu");var e=b("DOM").find(c,".uiMenuInner");A!=null&&A.forEach(function(a){e.removeChild(a)});d.forEach(function(a){e.appendChild(a)});A=d}b("Arbiter").subscribe("UnfollowUser",function(a,b){s[b.profile_id]&&(Q(b.profile_id,s[b.profile_id]),r[b.profile_id]=t[b.profile_id].slice())});b("Arbiter").subscribe("UpdateSubscriptionLevel",function(a,c){a=c.profile_id+"";c=c.level+"";Q(a,c);var d;for(d in j)if(j[d]===a){var e=b("ge")(d);e&&S(e,a,c,!1)}});b("Arbiter").subscribe("listeditor/close_editor",function(){var a;for(a in j){var c=b("ge")(a);c&&U(c,!1)}});function W(a,c,d){__p&&__p();m[c]=d;c=y[c];if(c){d?c.select():c.deselect();return}c=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckbox");if(c.length!==0){c=c[0];b("CSS").conditionShow(c,!0);a=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckboxSeparator");a.length>0&&b("CSS").conditionShow(a[0],!0);d?N(c):O(c)}}function X(a,c){a={profile_id:c};b("Arbiter").inform("EnableNotifsForUser",a);new(b("AsyncRequest"))().setURI(w).setMethod("POST").setData({notifier_id:c,enable:!0}).setErrorHandler(b("Arbiter").inform.bind(null,"EnableNotifsForUserFail",a)).send()}function Y(a,c){a={profile_id:c};b("Arbiter").inform("DisableNotifsForUser",a);new(b("AsyncRequest"))().setURI(w).setMethod("POST").setData({notifier_id:c,enable:!1}).setErrorHandler(b("Arbiter").inform.bind(null,"DisableNotifsForUserFail",a)).send()}c={init:function(a,c,d){__p&&__p();var e=b("getOrCreateDOMID")(a);B[e]=d;j[e]||b("Event").listen(a,"click",function(b){return D(a,j[e],d,b.getTarget())});d===h&&x[c].length&&V(a,c,x[c]);q[c]&&K(a,c);j[e]=c;b("CSS").conditionClass(a,"NonFriendSubscriptionMenu",!k[c]);b("CSS").conditionClass(a,"cannotSubscribe",!n[c]);b("CSS").conditionClass(a,"noSubscriptionLevels",o[c]&&!p[c]);b("CSS").conditionClass(a,"noSubscribeCheckbox",!k[c]&&!o[c]);T(a,c,l[c]);W(a,c,m[c]);b("Arbiter").subscribe(["FollowUser","FollowingUser","UnfollowUserFail"],function(b,d){d.profile_id==c&&T(a,c,!0)}.bind(this));b("Arbiter").subscribe(["UnfollowUser","UnfollowingUser","FollowUserFail"],function(d,e){e.profile_id==c&&(b("Arbiter").inform("SubMenu/Reset"),T(a,c,!1))}.bind(this));b("Arbiter").subscribe(["EnableNotifsForUser","DisableNotifsForUserFail"],function(b,d){d.profile_id==c&&W(a,c,!0)}.bind(this));b("Arbiter").subscribe(["DisableNotifsForUser","EnableNotifsForUserFail"],function(b,d){d.profile_id==c&&W(a,c,!1)}.bind(this));b("Arbiter").subscribe("listeditor/friend_lists_changed",function(b,c){if(c.notify_state){b=c.added_uid?c.added_uid:c.removed_uid;W(a,b,c.notify_state.is_notified)}}.bind(this))},getSubscriptions:function(a){return{level:q[a],custom_categories:r[a]}},registerTimelineNotifySelector:function(a,c){var d=a.getInitialMenu(),e=a.getContentRoot();d.forEachItem(function(a){var d=a.getRoot();b("CSS").hasClass(d,"SubscribeMenuNotifyMeCheckbox")&&(y[c]=a,W(e,c,m[c]))});d.subscribe("itemclick",function(a,b){b.item===y[c]&&E(e,c);return!0})},toggleNotificationsOnJoin:function(a,b){m[a]!==b&&E(null,a)},setSubscriptions:function(a,b,c,d,e,f,g,h,i,j,q,u){Q(a,g+""),k[a]=b,l[a]=c,n[a]=d,o[a]=e,p[a]=f,s[a]=i+"",r[a]=h.map(String),t[a]=j.map(String),x[a]=u,m[a]=q}};e.exports=a.EditSubscriptions||c}),null);
__d("PopoverMenuShowOnHover",["DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();var g=250;a=function(){"use strict";__p&&__p();function a(a){var b=this;this._handleOnSetMenu=function(){b._attachMouseListeners(b._popoverMenu.getPopover().getLayer().getRoot())};this._popoverMenu=a;this._listeners=[]}var c=a.prototype;c.enable=function(){this._attachMouseListeners(this._popoverMenu.getTriggerElem()),this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",this._handleOnSetMenu)};c.disable=function(){this._lastHoverEventTime=null;while(this._listeners.length)this._listeners.pop().remove();this._setMenuSubscription&&(this._setMenuSubscription.unsubscribe(),this._setMenuSubscription=null)};c._attachMouseListeners=function(a){var c=this;this._listeners.push(b("Event").listen(a,"mouseleave",function(a){var d=c._popoverMenu.getMenu();if(!d||b("DOM").contains(d.getRoot(),a.relatedTarget)||b("DOM").contains(c._popoverMenu.getTriggerElem(),a.relatedTarget))return;c._popoverMenu.getPopover().hideLayer(a)}),b("Event").listen(a,"mouseenter",function(a){c._lastHoverEventTime=Date.now(),c._popoverMenu.getPopover().showLayer()}),b("Event").listen(a,"click",function(a){Date.now()<c._lastHoverEventTime+g&&a.stop()}))};return a}();e.exports=a}),null);
__d("SelectorDeprecated",["Arbiter","ArbiterMixin","Button","ContextualLayer","CSS","DataStore","DOM","Event","Focus","HTML","Keys","MenuDeprecated","Parent","Style","Toggler","TooltipData","URI","Vector","emptyFunction","getDocumentScrollElement","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i,j=[],k;function l(a){return b("Parent").byClass(a,"uiSelector")}function m(a){return b("Parent").byClass(a,"uiSelectorButton")}function n(){i||(i=new(b("ContextualLayer"))({position:"below"},b("DOM").create("div")),b("CSS").addClass(i.getRoot(),"uiSelectorContextualLayer"));return i}function o(a){return b("DOM").scry(a,"select")[0]}function p(a){return b("DOM").find(a,"div.uiSelectorMenuWrapper")}var q=function(){__p&&__p();q=b("emptyFunction"),b("MenuDeprecated").subscribe("select",function(a,c){__p&&__p();if(!h||!c||c.menu!==v.getSelectorMenu(h))return;a=r(h);var d=s(c.item);if(d){var e=h,f=v.isOptionSelected(c.item),g=v.inform("select",{selector:e,option:c.item,clone:k});if(g===!1)return;(a||!f)&&(v.setSelected(e,v.getOptionValue(c.item),!f),v.inform("toggle",{selector:e,option:c.item}),v.inform("change",{selector:e}),b("Arbiter").inform("Form/change",{node:e}),t(e)&&b("DataStore").set(e,"dirty",!0))}(!a||!d)&&(h&&v.toggle(h))})};function r(a){return!!a.getAttribute("data-multiple")}function s(a){return b("CSS").hasClass(a,"uiSelectorOption")}function t(a){return!!a.getAttribute("data-autosubmit")}var u=function(){__p&&__p();u=b("emptyFunction");var a={keydown:function(a){__p&&__p();var c=a.getTarget();if(b("DOM").isInputNode(c))return;switch(b("Event").getKeyCode(a)){case b("Keys").DOWN:case b("Keys").SPACE:case b("Keys").UP:if(m(c)){a=l(c);v.toggle(a);return!1}break;case b("Keys").ESC:if(h){c=v.getSelectorButton(h);v.toggle(h);c&&b("Focus").set(c);return!1}break}},mouseover:function(a){a=b("Parent").byAttribute(a.getTarget(),"ajaxify");a&&b("CSS").hasClass(a,"uiSelectorButton")&&v.loadMenu(l(a))}};b("Event").listen(document.body,a)};b("Toggler").subscribe(["show","hide"],function(a,c){__p&&__p();var d=l(c.getActive());if(d){u();q();var e=v.getSelectorButton(d),f=v.getSelectorMenu(d);a=a==="show";e.setAttribute("aria-expanded",a?"true":"false");if(a){h=d;if(b("CSS").hasClass(e,"uiButtonDisabled")){v.setEnabled(d,!1);return!1}f=f||v.loadMenu(d);e=b("Style").getScrollParent(d);var g=e!==window&&e!==b("getDocumentScrollElement")();if(g||b("CSS").hasClass(d,"uiSelectorUseLayer")){g&&j.push(b("Event").listen(e,"scroll",function(){c.hide()}));k=b("DOM").create("div",{className:d.className});b("CSS").addClass(k,"invisible_elem");b("Vector").getElementDimensions(d).setElementDimensions(k);b("DOM").replace(d,k);g=b("CSS").hasClass(d,"uiSelectorRight");e=b("CSS").hasClass(d,"uiSelectorBottomUp");n().setContext(k).setContent(d).setPosition(e?"above":"below").setAlignment(g?"right":"left").show()}b("MenuDeprecated").register(f);e=b("MenuDeprecated").getCheckedItems(f);e.length||(e=b("MenuDeprecated").getEnabledItems(f));e.length&&b("MenuDeprecated").focusItem(e[0])}else{h=null;if(k){while(j.length)j.pop().remove();b("DOM").replace(k,d);n().hide();k=null}f&&b("MenuDeprecated").unregister(f);if(t(d)&&b("DataStore").get(d,"dirty")){g=b("DOM").scry(d,"input.submitButton")[0];g&&g.click();b("DataStore").remove(d,"dirty")}}b("CSS").conditionClass(v.getSelectorButton(d),"selected",a);v.inform(a?"open":"close",{selector:d,clone:k})}});a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.attachMenu=function(a,c,d){__p&&__p();a=l(a);if(a){h&&b("MenuDeprecated").unregister(v.getSelectorMenu(h));b("DOM").setContent(p(a),c);h&&b("MenuDeprecated").register(v.getSelectorMenu(a));k&&n().updatePosition();if(d){c=a.getAttribute("data-name");c&&d.setAttribute("name",c);r(a)||d.setAttribute("multiple",!1);c=o(a);c?b("DOM").replace(c,d):b("DOM").insertAfter(a.firstChild,d)}return!0}};e.getOption=function(a,b){a=v.getOptions(a);var c=a.length;while(c--)if(b===v.getOptionValue(a[c]))return a[c];return null};e.getOptions=function(a){a=b("MenuDeprecated").getItems(v.getSelectorMenu(a));return a.filter(s)};e.getEnabledOptions=function(a){a=b("MenuDeprecated").getEnabledItems(v.getSelectorMenu(a));return a.filter(s)};e.getSelectedOptions=function(a){return b("MenuDeprecated").getCheckedItems(v.getSelectorMenu(a))};e.getOptionText=function(a){return b("MenuDeprecated").getItemLabel(a)};e.getOptionValue=function(a){var b=l(a),c=o(b);b=v.getOptions(b).indexOf(a);return b>=0?c.options[b+1].value:""};e.getSelectorButton=function(a){return b("DOM").find(a,"a.uiSelectorButton")};e.getSelectorMenu=function(a){return b("DOM").scry(a,"div.uiSelectorMenu")[0]};e.getValue=function(a){__p&&__p();var b=o(a);if(!b)return null;if(!r(a))return b.value;a=[];b=b.options;for(var c=1,d=b.length;c<d;c++)b[c].selected&&a.push(b[c].value);return a};e.isOptionSelected=function(a){return b("MenuDeprecated").isItemChecked(a)};e.listen=function(a,b,c){return this.subscribe(b,function(b,d){if(d.selector===a)return c(d,b)})};e.loadMenu=function(a,c){__p&&__p();var e=v.getSelectorMenu(a);if(!e){var f=v.getSelectorButton(a),h=f.getAttribute("ajaxify");if(h){d(["AsyncRequest"],function(a){var d=new(g||(g=b("URI")))(h),e=d.getQueryData();d.setQueryData({});a=new a(d).setData(e).setNectarModuleDataSafe(f).setRelativeTo(f);c&&a.setFinallyHandler(function(){setTimeout(c,0)});a.send()}.bind(this));var i=b("HTML")('<div class="uiSelectorMenuWrapper uiToggleFlyout"><div class="uiMenu uiSelectorMenu loading"><ul class="uiMenuInner"><li><span></span></li></ul></div></div>');b("DOM").appendContent(f.parentNode,i);e=v.getSelectorMenu(a);f.removeAttribute("onmouseover")}}else c&&c();return e};e.setButtonLabel=function(a,c){a=v.getSelectorButton(a);var d=parseInt(a.getAttribute("data-length"),10);c=c||a.getAttribute("data-label")||"";b("Button").setLabel(a,c);typeof c==="string"&&(d&&c.length>d?a.setAttribute("title",c):a.removeAttribute("title"))};e.setButtonTooltip=function(a,c){a=v.getSelectorButton(a);var d=b("Parent").byTag(a,"a");d&&b("TooltipData").set(d,c||a.getAttribute("data-tooltip")||"")};e.setEnabled=function(a,c){!c&&h&&l(a)===h&&v.toggle(a),b("Button").setEnabled(v.getSelectorButton(a),c)};e.setOptionEnabled=function(a,c){b("MenuDeprecated").setItemEnabled(a,c)};e.setSelected=function(a,c,d){__p&&__p();d=d!==!1;c=v.getOption(a,c);if(!c)return;var e=v.isOptionSelected(c);if(d!==e){if(!r(a)&&!e){d=v.getSelectedOptions(a)[0];d&&b("MenuDeprecated").toggleItem(d)}b("MenuDeprecated").toggleItem(c)}v.updateSelector(a)};e.toggle=function(a){b("Toggler").toggle(b("DOM").scry(l(a),"div.wrap")[0])};e.updateSelector=function(a){__p&&__p();var c=v.getOptions(a),d=v.getSelectedOptions(a),e=o(a).options,f=[],g=[];for(var h=0,i=c.length;h<i;h++){var j=d.includes(c[h]);e[h+1].selected=j;if(j){j=v.getOptionText(c[h]);f.push(j);g.push(c[h].getAttribute("data-tooltip")||j)}}e[0].selected=!d.length;j=b("CSS").hasClass(a,"uiSelectorDynamicLabel");h=b("CSS").hasClass(a,"uiSelectorDynamicTooltip");if(j||h){i="";if(r(a)){c=v.getSelectorButton(a);i=c.getAttribute("data-delimiter")||", "}f=f.join(i);g=g.join(i);j&&v.setButtonLabel(a,f);h&&v.setButtonTooltip(a,g)}};return c}(b("mixin")(b("ArbiterMixin")));var v=new a();e.exports=v}),null);
__d("TimelineCoverCollapse",["DOMDimensions","Style","TidyArbiter","$","getViewportDimensions"],(function(a,b,c,d,e,f){f.collapse=function(a,c){c--;a=b("getViewportDimensions")().height;var d=b("DOMDimensions").getDocumentDimensions().height;a=a+c;d<=a&&b("Style").set(b("$")("globalContainer"),"min-height",a+"px");window.scrollBy(0,c);b("TidyArbiter").inform("TimelineCover/coverCollapsed",c,"state")}}),null);
__d("XVanityURLController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{vanity}/",{and:{type:"String"},filter:{type:"Int"},sk:{type:"String"},v:{type:"String"},vanity:{type:"String",required:!0},__xts__:{type:"StringVector"},__tn__:{type:"String"},redto:{type:"String"}})}),null);