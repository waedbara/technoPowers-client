if (self.CavalryLogger) { CavalryLogger.start_js(["WDTAI"]); }

__d("CometGHLTracker",["gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set();function a(a){g.add(a)}function c(a){return b("gkx")("1181007")?!1:g.has(a)}function d(){return b("gkx")("1181007")?!1:g.size>0}f={b:d,c:c,m:a};e.exports=f}),null);
__d("CentralImpressionStoryViewabilityLogger",["CometGHLTracker","clearTimeout","ghlTestUBT","gkx","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={client_track_subsequent_impression:!0,duration_in_ms:1,subsequent_gap_in_ms:6e4},h=5e3;a=function(){__p&&__p();function a(a){__p&&__p();var c=this;a===void 0&&(a={});this.$2=babelHelpers["extends"]({},g,a);this.$3=null;this.$4=null;this.$5=null;this.$8=!1;this.$6=null;this.$7=!1;this.$1=!1;b("ghlTestUBT")(function(a){c.$1=a})}var c=a.prototype;c.log=function(a,b,c){var d=a.status;d==="ENTER"?this.$9(a,b,c):d==="EXIT"&&this.$10()};c.checkAndLogPendingImpressionOnExit=function(){var a=this.$6;if(a!==null){a=a.onLogImpression;this.$6=null;this.$4=null;this.$11(a,"AD_BLOCKER")}};c.reset=function(){this.$8=!1,this.$6=null,this.$7=!1,this.$12(),b("clearTimeout")(this.$4),this.$4=null};c.remove=function(){this.$12()};c.$12=function(){this.$3&&(b("clearTimeout")(this.$3),this.$3=null),this.$8=!1};c.$13=function(){var a=this.$2.duration_in_ms;return a!=null&&a>0&&this.$8===!0};c.$14=function(){return this.$2.can_delay_log_impression&&(this.$1||b("CometGHLTracker").b()||b("gkx")("986925"))};c.$15=function(a,c,d){var e=this,f=this.$2.duration_in_ms;this.$8=!0;this.$3=b("setTimeout")(function(){a&&a.peek().visible&&(e.$14()?e.$16(c):e.$11(c,d)),e.$12()},f)};c.$16=function(a){var c=this,d=this.$2.duration_in_ms;d=Math.max(0,h-d);this.$6={onLogImpression:a};this.$4=b("setTimeout")(function(){c.$6=null,c.$4=null,c.$11(a,"AD_BLOCKER")},d)};c.$11=function(a,b){a(b),this.$7=!0};c.$10=function(){var a=this;this.$13()&&this.$12();if(this.$5!==null)return;var c=this.$2,d=c.client_track_subsequent_impression;c=c.subsequent_gap_in_ms;d&&((this.$7||this.$6!==null)&&(this.$5=b("setTimeout")(function(){a.reset(),a.$5=null},c)))};c.$9=function(a,b,c){__p&&__p();a=this.$2;var d=a.client_track_subsequent_impression,e=a.duration_in_ms;a=a.subsequent_gap_in_ms;if(this.$7&&!d)return;if(this.$13())return;if(this.$5!=null)return;else if(this.$7&&a!=null&&a<=0)return;if(this.$6!==null)return;this.reset();e==null||e<=0?this.$14()?this.$16(c):this.$11(c,this.$7?"DEDUP":"ORIGINAL"):this.$15(b,c,this.$7?"DEDUP":"ORIGINAL")};return a}();e.exports=a}),null);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}e.exports=a}),null);
__d("getClientPositionOnBlue",["csx","DataAttributeUtils","DOM","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();a=b("DataAttributeUtils").getDataAttribute(a,"data-dedupekey");if(a===null)return null;var c=h();if(c===null||c.length===0)return null;var d=c.length;while(--d>=0){var e=b("DataAttributeUtils").getDataAttribute(c[d],"data-dedupekey");if(e!==null&&a===e)break}return d+1}function h(){__p&&__p();var a=b("ge")("contentArea");if(a){var c="._5jmm";a=b("DOM").scry(a,c);return a.filter(function(a){return b("DataAttributeUtils").getDataAttribute(a,"data-dedupekey")})}else{c=b("ge")("m_newsfeed_stream");return c===null?null:c.getElementsByTagName("article")}}e.exports=a}),null);
__d("FBFeedStoryImpressionLoggingManager",["requireCond","Banzai","CentralImpressionObserverTracker","CentralImpressionStoryViewabilityLogger","DataAttributeUtils","Event","FBFeedImpressionTopMarginGetter","FBImpressionValidationUtils","Run","TimeSlice","ViewabilityFramework","cr:1095627","WebSession","calculateImpressionViewablePercentage","getCentralImpressionTimeAfterRefresh","getClientPositionOnBlue","getElementPosition","cr:943110","getViewportDimensions","gkx","isImpressionTargetOccluded","cr:1095628","throttle","ScriptPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBFeedImpressionTopMarginGetter").getTopMargin,h=1;a=function(){__p&&__p();function a(){__p&&__p();var a=this;this.THROTTLE_TIMEOUT=50;this.$2={};this.$3={};this.$1=g();this.$5=!1;var c=b("TimeSlice").guard(b("throttle")(function(){var b=g();if(b!==a.$1){a.$1=b;var c={rootMargin:"-"+b+"px 0px 0px 0px"};Object.keys(a.$2).forEach(function(b){b=a.$2[b];b!=null&&b.resetObserverIfTargetOrOptionsChanged(b.peek().target,c)})}},this.THROTTLE_TIMEOUT),"FBFeedStoryImpressionLoggingManager: update observer root margin");b("Event").listen(document,"scroll",c);b("Event").listen(window,"resize",c);"MutationObserver"in window&&(this.$4=new MutationObserver(c),this.$4.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}));b("Run").onUnload(function(){for(var b in a.$3)a.$3[b].checkAndLogPendingImpressionOnExit()})}var c=a.prototype;c.observeElement=function(a){__p&&__p();var c=this,d=this.$6(a),e=this.$7(a),f=this.$8(d,e),g=!1,h=function(d,h,i){__p&&__p();if(d.status==="ENTER"){b("cr:1095627")&&(b("cr:1095627").onItemEnterViewport(b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE,a),b("cr:1095628")&&b("cr:1095628")(b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE,a,"enter","blue"));var j=b("DataAttributeUtils").getDataAttribute(a,"data-xt"),k=d.impressedAt,l=b("FBImpressionValidationUtils").getFBFeedLocation(a),m=b("getElementPosition")(d.target),n=b("getClientPositionOnBlue")(a);m=b("calculateImpressionViewablePercentage")(m,babelHelpers["extends"]({x:0,y:0},b("getViewportDimensions")()),{bottom:0,left:0,right:0,top:c.$1});var o=!1;e.detect_occlusion===!0&&!!d.intersectionRect&&(o=b("isImpressionTargetOccluded")(a,d.intersectionRect));m={ch2_vp:m.visiblePercentage*100,ch2_rects:{root:m.rootBounds,target_rect:m.boundingClientRect},endpoint:b("ScriptPath").getTopViewEndpoint(),rects:{root:d.rootBounds,target_rect:d.boundingClientRect,intersect_rect:d.intersectionRect},xt:j,cts:k,csp:n,vp:d.visiblePercentage*100,fbfeed_location:l,pre_rs:i.invisibleReason,scroll_speed:b("cr:943110")?b("cr:943110")():null,time_from_load:b("getCentralImpressionTimeAfterRefresh")(),sk:b("WebSession").getId(),sub_imp:g,behind_popout:o,cl_gen_id:c.$5};j=babelHelpers["extends"]({},b("Banzai").VITAL,{signal:!0});b("Banzai").post("viewability_events:"+(e.is_rhc===!0?b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE_RHC:b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE),m,j);g=!0}else if(d.status==="EXIT"){b("cr:1095627")&&(b("cr:1095627").onItemExitViewport(b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE,a),b("cr:1095628")&&b("cr:1095628")(b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE,a,"exit","blue"));if(b("gkx")("961555")){k=b("DataAttributeUtils").getDataAttribute(a,"data-xt");n=b("getClientPositionOnBlue")(a);l=b("FBImpressionValidationUtils").getFBFeedLocation(a);o={rects:{root:d.rootBounds,target_rect:d.boundingClientRect,intersect_rect:d.intersectionRect},xt:k,cts:d.impressedAt,csp:n,duration:Date.now()-d.impressedAt,exit_rs:d.invisibleReason,vp:d.visiblePercentage*100,fbfeed_location:l,pre_rs:i.invisibleReason,pre_vp:i.visiblePercentage*100,scroll_speed:b("cr:943110")?b("cr:943110")():null,time_from_load:b("getCentralImpressionTimeAfterRefresh")(),sk:b("WebSession").getId()};m=babelHelpers["extends"]({},b("Banzai").VITAL,{signal:!0});b("Banzai").post("viewability_events:"+b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE_EXIT,o,m)}}f.log(d,h,function(){var e=b("DataAttributeUtils").getDataAttribute(a,"data-xt"),f=d.impressedAt,g=b("FBImpressionValidationUtils").getFBFeedLocation(a),h=b("getClientPositionOnBlue")(a);e={xt:e,cts:f,csp:h,vp:d.visiblePercentage*100,fbfeed_location:g,scroll_speed:b("cr:943110")?b("cr:943110")():null,time_from_load:b("getCentralImpressionTimeAfterRefresh")(),sk:b("WebSession").getId(),cl_gen_id:c.$5};f=babelHelpers["extends"]({},b("Banzai").VITAL,{signal:!0});b("Banzai").post("viewability_events:"+b("ViewabilityFramework").INTERSECTION_OBSERVER_BLUE_AFTER_DEDUP,e,f)})};this.$9(d,a,h)};c.$8=function(a,c){this.$3[a]==null&&(this.$3[a]=new(b("CentralImpressionStoryViewabilityLogger"))(c));return this.$3[a]};c.$9=function(a,c,d){var e=this.$2[a],f={rootMargin:"-"+this.$1+"px 0px 0px 0px"};e==null?this.$2[a]=new(b("CentralImpressionObserverTracker"))(c,d,f):e.resetObserverIfTargetOrOptionsChanged(c,f,d);return this.$2[a]};c.$7=function(a){try{return JSON.parse(b("DataAttributeUtils").getDataAttribute(a,"data-xt-vimp"))||{}}catch(a){return{}}};c.$6=function(a){var b=a.getAttribute("id");if(typeof b==="string"&&b!=="")return b;this.$5=!0;b="xt_uniq_"+h++;a.setAttribute("id",b);return b};return a}();e.exports=a}),null);
__d("FBFeedStoryImpressionLogging",["FBFeedStoryImpressionLoggingManager"],(function(a,b,c,d,e,f){"use strict";var g=null;a={observeElement:function(a){g==null&&(g=new(b("FBFeedStoryImpressionLoggingManager"))()),g.observeElement(a)}};e.exports=a}),null);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","gkx","isImpressionTargetOccluded"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={bottom:0,left:0,right:0,top:0};function h(a){__p&&__p();if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(b("getStyleProperty")(a,"position")==="absolute"&&b("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,c,d){__p&&__p();d===void 0&&(d={});var e=b("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},b("getViewportDimensions")()),i=b("calculateImpressionViewablePercentage")(e,f,g),j=!1;if(i.visiblePercentage>0&&b("gkx")("1141304")){var k=h(a);k!=null&&i.intersectionRect!=null&&(j=!0,i=b("calculateImpressionViewablePercentage")(i.intersectionRect,b("getElementPosition")(k),g))}k=d;k=k.viewportMargin;j=k&&!j?b("calculateImpressionViewablePercentage")(e,f,k):i;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);i=i;var l=i.intersectionRect;i=i.visiblePercentage;var m=null,n=!1;i<=0?m="NOT_IN_VIEWPORT":l&&b("isImpressionTargetOccluded")(a,l,k||g)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":b("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":b("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":b("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;i=n===!1?0:j.visiblePercentage;l=c.visible;k=c.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):c.visiblePercentage!==i&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:i},f)}e.exports=a}),null);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CentralImpressionRecord").calcExitRecordOnUnmount,h=b("CentralImpressionRecord").initImpressionRecord,i=b("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;d===void 0&&(d=null);e===void 0&&(e={});this.THROTTLE_TIMEOUT=i;this.takeSnapshot=b("CometThrottle")(function(){if(f.$3==null||f.$8===!0)return;var a=b("calcNextImpressionSnapshotRecord")(f.$3,f.$2,f.$7);f.$9(a)},this.THROTTLE_TIMEOUT);this.$5=d;this.$2=h(a);this.$1=c;this.$3=a;this.$7=e;this.$8=!1;b("setTimeout")(this.takeSnapshot,0);document.addEventListener("scroll",this.takeSnapshot,!0);window.addEventListener("resize",this.takeSnapshot);"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshot),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[b("Visibility").addListener(b("Visibility").HIDDEN,this.takeSnapshot),b("Visibility").addListener(b("Visibility").VISIBLE,this.takeSnapshot)]}var c=a.prototype;c.getOptionalUniqueID=function(){return this.$5};c.peek=function(){return this.$2};c.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};c.remove=function(){document.removeEventListener("scroll",this.takeSnapshot,!0),window.removeEventListener("resize",this.takeSnapshot),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};c.unmount=function(){var a=g(this.$2);a!=null&&this.$9(a);this.remove()};c.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};c.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();e.exports=a}),null);
__d("FBFeedStoryImpressionScrollBased2ndChannelManager",["requireCond","Banzai","CentralImpressionScrollBasedTracker","DataAttributeUtils","FBImpressionValidationUtils","ViewabilityFramework","cr:1095627","WebSession","getCentralImpressionTimeAfterRefresh","getClientPositionOnBlue","cr:943110","ScriptPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.observeElement=function(a){__p&&__p();var c=this.$2(a),d=this.$3(a),e=function(c,e,f){if(c.status==="ENTER"){b("cr:1095627")&&b("cr:1095627").onItemEnterViewport(b("ViewabilityFramework").SCROLL_BASED_BLUE,a);e=b("DataAttributeUtils").getDataAttribute(a,"data-xt");var g=c.impressedAt,h=b("getClientPositionOnBlue")(a),i=b("FBImpressionValidationUtils").getFBFeedLocation(a);e={rects:{root:c.rootBounds,target_rect:c.boundingClientRect},xt:e,cts:g,csp:h,endpoint:b("ScriptPath").getTopViewEndpoint(),vp:c.visiblePercentage*100,fbfeed_location:i,pre_rs:f.invisibleReason,scroll_speed:b("cr:943110")?b("cr:943110")():null,time_from_load:b("getCentralImpressionTimeAfterRefresh")(),sk:b("WebSession").getId()};g=babelHelpers["extends"]({},b("Banzai").VITAL,{signal:!0});b("Banzai").post("viewability_events:"+(d.is_rhc===!0?b("ViewabilityFramework").SCROLL_BASED_BLUE_RHC:b("ViewabilityFramework").SCROLL_BASED_BLUE),e,g)}else c.status==="EXIT"&&(b("cr:1095627")&&b("cr:1095627").onItemExitViewport(b("ViewabilityFramework").SCROLL_BASED_BLUE,a))};this.$4(c,a,e)};c.$4=function(a,c,d){var e=this.$1[a];e==null?this.$1[a]=new(b("CentralImpressionScrollBasedTracker"))(c,d):e.update(c,d);return this.$1[a]};c.$3=function(a){try{return JSON.parse(b("DataAttributeUtils").getDataAttribute(a,"data-xt-vimp"))||{}}catch(a){return{}}};c.$2=function(a){var b=a.getAttribute("id");if(typeof b==="string"&&b!=="")return b;b="xt_uniq_"+g++;a.setAttribute("id",b);return b};return a}();e.exports=a}),null);
__d("FBFeedStoryImpressionScrollBased2ndChannel",["FBFeedStoryImpressionScrollBased2ndChannelManager"],(function(a,b,c,d,e,f){"use strict";var g=null;a={observeElement:function(a){g==null&&(g=new(b("FBFeedStoryImpressionScrollBased2ndChannelManager"))()),g.observeElement(a)}};e.exports=a}),null);