if (self.CavalryLogger) { CavalryLogger.start_js(["J8gXZ"]); }

__d("XUICardSection.react",["cx","React","XUIBlock","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;a.background;var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["background","children","className"]);d=b("joinClasses")(d,"_4-u3",b("XUIBlock").getBackgroundClass(this.props));return b("React").jsx("div",babelHelpers["extends"]({},a,{className:d,children:c}))};return c}(b("React").Component);a.propTypes=b("XUIBlock").propTypes;a.defaultProps=b("XUIBlock").getDefaultProps();e.exports=a}),null);
__d("FeedReactComposerLazyLoadPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FeedReactComposerLazyLoadPerfLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FeedReactComposerLazyLoadPerfLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FeedReactComposerLazyLoadPerfLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setInteractionDelay=function(a){this.$1.interaction_delay=a;return this};c.setLazyLoadDuration=function(a){this.$1.lazy_load_duration=a;return this};c.setPropsLoadDuration=function(a){this.$1.props_load_duration=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={interaction_delay:!0,lazy_load_duration:!0,props_load_duration:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("LayoutColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a,c){var d=a.className,e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","children"]);return b("React").jsx("div",babelHelpers["extends"]({ref:c},a,{className:b("joinClasses")(d,"_4bl7"),children:e}))}e.exports=b("React").forwardRef(a)}),null);
__d("LayoutFillColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a,c){var d=a.className,e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","children"]);return b("React").jsx("div",babelHelpers["extends"]({ref:c},a,{className:b("joinClasses")(d,"_4bl9"),children:e}))}e.exports=b("React").forwardRef(a)}),null);
__d("Layout.react",["cx","LayoutColumn.react","LayoutFillColumn.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=!1,d=!1,e=this.props,f=e.children,g=e.className;e=babelHelpers.objectWithoutPropertiesLoose(e,["children","className"]);b("React").Children.forEach(f,function(b){if(!b)return;b.type===c.FillColumn?d=!0:d&&(a=!0)});return b("React").jsx("div",babelHelpers["extends"]({},e,{className:b("joinClasses")(g,a?"_5aj7":"clearfix _ikh"),children:f}))};return c}(b("React").Component);a.Column=b("LayoutColumn.react");a.FillColumn=b("LayoutFillColumn.react");e.exports=a}),null);
__d("XReactFeedSproutsComposerXPropsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/lazy_load_composer/props/",{composer_id:{type:"String",required:!0}})}),null);
__d("ReactLazyLoadFeedSproutsComposerX.react",["cx","fbt","ix","Arbiter","AsyncRequest","ExtensibleSproutsItemType","FeedComposerIDStore","FeedReactComposerLazyLoadPerfTypedLogger","JSResource","React","ReactComposerAttachmentSelector.react","ReactComposerBody.react","ReactComposerFocusInline.react","ReactComposerProfilePhotoBlock.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","SubscriptionsHandler","XReactFeedSproutsComposerXPropsController","XUICard.react","XUISpinner.react","emptyFunction","fbglyph","gkx","joinClasses","lazyLoadComponent","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;var j=b("lazyLoadComponent")(b("JSResource")("ReactFeedSproutsComposerX.react").__setRef("ReactLazyLoadFeedSproutsComposerX.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hadUserInteraction:!1,hasBeenHovered:!1,jsLoadingDuration:null,prefillAdditions:null,propsLoaded:!1,propsLoadingDuration:null},d.$4=null,d.firstInteractionTime=0,d.lazyLoadStartTime=0,d.lazyLoadEndTime=0,d.propsLoadStartTime=0,d.propsLoadEndTime=0,d.hasLoggedPerf=!1,d.$5=new(b("SubscriptionsHandler"))(),d.$6=function(){d.setState({hadUserInteraction:!0}),d.$7()},d.$8=function(){d.$7(),d.setState({hasBeenHovered:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=this;this.$4===null&&(this.propsLoadStartTime=Date.now(),this.$5.addSubscriptions(b("Arbiter").subscribe("ReactLazyLoadFeedSproutsComposerX/propsLoaded/"+this.props.composerID,function(b,c){a.$1=c.contextConfig,a.$2=c.config,a.$3=c.prefillConfig,a.propsLoadEndTime=Date.now(),a.setState({propsLoaded:!0,propsLoadingDuration:a.propsLoadEndTime-a.propsLoadStartTime})})),this.$4=b("XReactFeedSproutsComposerXPropsController").getURIBuilder().setString("composer_id",this.props.composerID).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))()),this.$4.send())};d.componentDidMount=function(){var a=this;b("FeedComposerIDStore").set(this.props.composerID);this.$5.addSubscriptions(b("Arbiter").subscribe("ReactFeedComposerXBootloader/selectcomposer/"+this.props.composerID,function(b,c){c&&c.prefillAdditions&&a.setState({prefillAdditions:c.prefillAdditions}),a.$6()}))};d.componentDidUpdate=function(a,c){var d=this;this.state.hasBeenHovered&&!c.hasBeenHovered&&(this.lazyLoadStartTime=Date.now(),b("JSResource")("ReactFeedSproutsComposerX.react").__setRef("ReactLazyLoadFeedSproutsComposerX.react").load().done(function(a){d.lazyLoadEndTime=Date.now(),d.setState({jsLoadingDuration:d.lazyLoadEndTime-d.lazyLoadStartTime})}));this.state.hadUserInteraction&&!c.hadUserInteraction&&(this.firstInteractionTime=Date.now());this.state.hadUserInteraction&&!this.hasLoggedPerf&&this.state.jsLoadingDuration!==null&&this.state.propsLoadingDuration!==null&&(this.hasLoggedPerf=!0,new(b("FeedReactComposerLazyLoadPerfTypedLogger"))().setLazyLoadDuration(this.lazyLoadEndTime-this.lazyLoadStartTime).setPropsLoadDuration(this.propsLoadEndTime-this.propsLoadStartTime).setInteractionDelay(Math.max(Math.max(this.lazyLoadEndTime,this.propsLoadEndTime)-this.firstInteractionTime,0)).log())};d.componentWillUnmount=function(){this.$5&&this.$5.release()};c.propsLoaded=function(a,c,d){b("Arbiter").inform("ReactLazyLoadFeedSproutsComposerX/propsLoaded/"+a.composerID,{contextConfig:a,config:c,prefillConfig:d})};d.render=function(){var a=b("React").jsx(k,babelHelpers["extends"]({},this.props,{actorID:this.props.actorID,albumTab:this.props.albumTab,hideHeader:b("qex")._("780493"),liveVideoTab:!(b("qex")._("730782")||b("gkx")("796190")),loading:this.state.hadUserInteraction,onMouseOver:this.$8,onInteraction:this.$6,qAndATab:this.props.qAndATab,sproutsConfig:this.props.sproutsConfig,statusAttachmentConfig:this.props.statusAttachmentConfig,suppressHeaderIcons:b("qex")._("760895")||b("gkx")("796190")}));return b("React").jsx(b("ReactComposerFocusInline.react"),{composerID:this.props.composerID,actorID:this.props.actorID,gks:{lazySproutsExpand:b("gkx")("678359"),topPostButton:!1,hasHeader:!1,isSproutsComposer:!0,wideHeader:!1,hideFocusDismissButton:!1},enableFocusBehavior:!0,children:this.state.propsLoaded&&this.state.hadUserInteraction&&this.$1&&this.$2?b("React").jsx(b("React").Suspense,{fallback:a,children:b("React").jsx(j,{contextConfig:this.$1,config:this.$2,prefillConfig:Object.assign({},this.$3,this.state.prefillAdditions),wasStubbed:!0})}):a})};return c}(b("React").Component);function k(a){var c=b("qex")._("730783")||b("gkx")("796190");return b("React").jsxs("div",{className:"_1cx1 _4a8c _4aay _4ab3"+(b("qex")._("730784")?" _2qma":""),onFocus:a.onInteraction,onMouseOver:a.onMouseOver,onClick:a.onInteraction,role:"presentation",children:[b("React").jsxs(b("XUICard.react"),{className:"_5n2b _36bx"+(a.loading?" _6rv6":""),"data-testid":"react-composer-root","data-test-actorid":a.actorID,id:a.composerID,children:[a.hideHeader?null:b("React").jsx(l,{albumTab:a.albumTab&&!c,liveVideoTab:a.liveVideoTab,photoTab:a.liveVideoTab&&c,qAndATab:a.qAndATab,statusTab:a.statusAttachmentConfig.enabled,statusTabTitle:a.statusAttachmentConfig.defaultTabTitle,suppressIcons:a.suppressHeaderIcons}),b("React").jsx(b("ReactComposerBody.react"),babelHelpers["extends"]({},a,{children:b("React").jsx(n,babelHelpers["extends"]({},a.statusAttachmentConfig))})),a.sproutsConfig?b("React").jsx(o,{sproutsConfig:a.sproutsConfig}):null]}),a.loading?b("React").jsx("div",{className:"_6rv7",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null]})}function l(a){var c=[];a.statusTab&&c.push(b("React").jsx(m,{icon:a.suppressIcons?null:i("123350"),label:a.statusTabTitle,selected:!0},"status_tab_selector"));a.photoTab&&c.push(b("React").jsx(m,{icon:a.suppressIcons?null:i("122530"),label:h._("Photo\/Video"),selected:!1},"media_tab_selector"));a.albumTab&&c.push(b("React").jsx(m,{icon:a.suppressIcons?null:i("123370"),label:h._("Photo\/Video Album"),selected:!1},"album"));a.liveVideoTab&&c.push(b("React").jsx(m,{icon:a.suppressIcons?null:i("123206"),label:h._("Live Video"),selected:!1},"live_video_tab_selector"));a.qAndATab&&c.push(b("React").jsx(m,{icon:a.suppressIcons?null:i("123482"),label:h._("Q&A"),selected:!1},"qanda_tab_selector"));return b("React").jsx("div",{className:"_3ubp _sg2"+(c.length<=1?" _76ge":"")+(a.suppressIcons?" _776n":""),children:c})}function m(a){return b("React").jsx("span",{"data-testid":a.dataTestID,className:"_sg1",children:b("React").jsx(b("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({onSelected:b("emptyFunction")},a))})}function n(a){var c;return(c=b("React")).jsx("div",{className:"_i-o",children:c.jsx("div",{className:"_3eny",children:c.jsx(b("ReactComposerProfilePhotoBlock.react"),babelHelpers["extends"]({},a,{children:c.jsx("div",{className:b("joinClasses")("_1mwp"+(a.showProfilePic?" _5bu_":"")+" _17nh","navigationFocus"),children:b("React").jsx("div",{className:"_1p1t",children:a.placeholderText})})}))})})}function o(a){return b("React").jsx("div",{className:"_1j2v",children:b("React").jsx(p,{sproutsConfig:a.sproutsConfig})})}var p=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.getChildContext=function(){return{hasFinishedSproutPromotion:!!this.props.hasFinishedSproutPromotion,promotedSprout:this.props.sproutsPromotionConfig&&this.props.sproutsPromotionConfig.sprout,subtitle:this.props.sproutsPromotionConfig&&this.props.sproutsPromotionConfig.subtitle,promotionID:this.props.sproutsPromotionConfig&&this.props.sproutsPromotionConfig.promotionID}};d.render=function(){__p&&__p();var a=[];for(var c in this.props.sproutsConfig){var d=b("ExtensibleSproutsItemType")[c];if(!this.props.sproutsConfig[d].enabled===!0)continue;a.push(b("React").jsx(q,{children:b("React").jsx(b("ReactComposerSproutItem.react"),{uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[d]})},c));if(a.length==3)break}return b("React").jsx("div",{className:"_16ve _7i31",children:b("React").jsxs("ul",{className:"_16vg"+(a.length===3?" _1oxv":""),children:[a,b("React").jsx(q,{children:b("React").jsx(b("ReactComposerSproutItem.react"),{uiConfig:{label:"",icon:i("28705"),iconSrc:"/images/composer/sprouts/composer_sprout_ellipsis.png",className:"_1gr3",loggingName:"ellipsis_sprout",webDriverTestID:"ellipsis-sprout"}})},"ELLIPSIS")]})})};return a}(b("React").PureComponent);p.childContextTypes={hasFinishedSproutPromotion:a.bool.isRequired,promotionID:a.number,promotedSprout:a.string,subtitle:a.string};function q(a){return b("React").jsx("li",{className:"_5xmp",children:a.children})}e.exports=c}),null);