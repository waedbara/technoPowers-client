if (self.CavalryLogger) { CavalryLogger.start_js(["fG6A8"]); }

__d("AdsModalBodyNoPadding.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").Component;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_1u7q",children:this.props.children})};return c}(a);e.exports=c}),null);
__d("FBModalCloseButton.react",["cx","fbt","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("ShimButton.react"),{className:"_3cnu",inline:!0,onClick:this.props.onToggleClick,children:b("React").jsx(b("Image.react"),{alt:h._("Close"),src:{uri:"/images/video/channel_view/close.png"}})})};return c}(b("React").Component);a.displayName="Modal Close Button";e.exports=a}),null);
__d("FDSPopover.react",["ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","FDSPrivateThemeContext.react","React","SUIPopover.react","getSUIPopoverUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;var g=b("makeSUIThemeGetter")({SUIPopover:b("getSUIPopoverUniform.fds")});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g(this.context);return b("React").jsx(b("SUIPopover.react"),{alignment:this.props.alignment,behaviors:this.props.fdsOverride_updateOnScroll===!0?{ContextualLayerHideOnScrollOut:b("ContextualLayerHideOnScrollOut"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")}:null,content:this.props.children,contentWidthUseSparingly:this.props.contentWidthUseSparingly,contextRef:this.props.contextRef,delay:this.props.delay,footer:this.props.footer,helpLink:this.props.helpLink,hoverContextRef:this.props.hoverContextRef,isShown:this.props.isShown,linger:this.props.linger,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onToggle:this.props.onToggle,position:this.props.position,preserveThemeFromContext:!0,renderDelay:this.props.renderDelay,theme:a,title:this.props.title})};return c}(a);c.defaultProps=b("SUIPopover.react").defaultProps;c.contextType=b("FDSPrivateThemeContext.react");e.exports=b("makeFDSStandardComponent")("FDSPopover",c)}),null);
__d("GeoTextUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){switch(a){case"header1":return 1;case"header2":return 2;case"header3":return 3;case"header4":return 4;default:return null}}function b(a){var b={color:"heading",display:"block",size:"value",weight:"normal"};a==="value"?b.size="valueDescription":a==="data"&&(b.size="header2",b.weight="bold");return b}function c(a){return["header1","header2","header3","header4"].includes(a)}function d(a){switch(a){case"header2":return 2;case"header3":return 3;case"header4":return 4;default:return 1}}function f(a){switch(a){case 2:return"header2";case 3:return"header3";case 4:return"header4";default:return"header1"}}e.exports={getAriaLevelForSize:a,getPairingTextPropsForSize:b,isHeader:c,mapHeadingSizeToLevel:d,mapHeadingLevelToSize:f}}),null);
__d("GeoTextSelectors",["stylex"],(function(a,b,c,d,e,f){"use strict";var g={common:{fontFamily:"gsjo6fc5"},appName:{fontSize:"ih6r0qvy",lineHeight:"hhr7js5x"},data:{fontSize:"ax6x2ykj",lineHeight:"bf0y5kop"},header1:{fontSize:"iaq0dt1j",lineHeight:"sd79p6sl"},header2:{fontSize:"mrr805f3",lineHeight:"d0h99v9t"},header3:{fontSize:"ndyhre2l",lineHeight:"q4i5fb49"},header4:{fontSize:"eo9wat5d",lineHeight:"p15d3ond"},value:{fontSize:"k6h3o2hx",lineHeight:"cxx0hv4c"},valueDescription:{fontSize:"prxriwsi",lineHeight:"jp2c47kd"}};function a(a){a=a.size;return[g.common,a==="appName"&&g.appName,a==="data"&&g.data,a==="header1"&&g.header1,a==="header2"&&g.header2,a==="header3"&&g.header3,a==="header4"&&g.header4,a==="value"&&g.value,a==="valueDescription"&&g.valueDescription]}e.exports={selectFont:a}}),null);
__d("GeoPrivateDefaultTheme",["GeoTextSelectors"],(function(a,b,c,d,e,f){"use strict";a=b("GeoTextSelectors").selectFont;c={selectFont:a};e.exports=c}),null);
__d("GeoPrivateThemeContext.react",["GeoPrivateDefaultTheme","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(b("GeoPrivateDefaultTheme"));e.exports=a}),null);
__d("useGeoTheme",["GeoPrivateThemeContext.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){return g(b("GeoPrivateThemeContext.react"))}e.exports=a}),null);
__d("useGeoTextStyle",["stylex","useGeoTheme"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={bold:{fontWeight:"cu1gti5y"},breakWord:{overflowWrap:"q3s3exew",wordWrap:"d8d6zf0d"},truncate:{whiteSpace:"kiex77na",overflowX:"lgsfgr3h",overflowY:"mcogi7i5",textOverflow:"ih1xi9zn"}},h={center:{textAlign:"jo61ktz3"},end:{textAlign:"j6gaebdb"},start:{textAlign:"aa8h9o0m"}},i={gray15:{color:"ngxun6is"},gray35:{color:"e8z2ayfd"},gray45:{color:"fmxbnybm"},gray55:{color:"m9ptj0pw"},gray75:{color:"kxmygt8f"},gray85:{color:"n54jr4lg"},green:{color:"k9h3fk1h"},disabledGreen:{color:"knymaerf"},red:{color:"fr2kz61k"},disabledRed:{color:"lxsf2sch"},white:{color:"mnd5opdv"},disabledWhite:{color:"nkxpff2w"}},j={inherit:{whiteSpace:"svz86pwt"},initial:{whiteSpace:"eq9nhiqw"},normal:{whiteSpace:"er4483w3"},nowrap:{whiteSpace:"kiex77na"},pre:{whiteSpace:"carcwc4b"},preLine:{whiteSpace:"carcwc4b"},preWrap:{whiteSpace:"carcwc4b"}};function a(a){__p&&__p();var c=a.color,d=a.display,e=a.isDisabled;e=e===void 0?!1:e;var f=a.overflowWrap,k=a.size,l=a.textAlign,m=a.weight;a=a.whiteSpace;var n=b("useGeoTheme")();n=n.selectFont;e=[!e&&c==="value"&&i.gray85,e&&c==="value"&&i.gray45,!e&&c==="heading"&&i.gray75,e&&c==="heading"&&i.gray35,!e&&c==="placeholder"&&i.gray55,e&&c==="placeholder"&&i.gray15,!e&&c==="white"&&i.white,e&&c==="white"&&i.disabledWhite,!e&&c==="failure"&&i.red,e&&c==="failure"&&i.disabledRed,!e&&c==="success"&&i.green,e&&c==="success"&&i.disabledGreen];c=[a==="inherit"&&j.inherit,a==="initial"&&j.initial,a==="normal"&&j.normal,a==="nowrap"&&j.nowrap,a==="pre"&&j.pre,a==="pre-line"&&j.preLine,a==="pre-wrap"&&j.preWrap];a=[l==="center"&&h.center,l==="start"&&h.start,l==="end"&&h.end];return[n({size:k}),e,c,a,d==="truncate"&&g.truncate,f==="break-word"&&g.breakWord,m==="bold"&&g.bold]}e.exports=a}),null);
__d("GeoPrimitiveText.react",["GeoTextUtils","React","makeGeoComponent","stylex","useGeoTextStyle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("GeoTextUtils").getAriaLevelForSize,i=b("GeoTextUtils").isHeader;function j(a){switch(a){case"block":case"truncate":return"div";default:return"span"}}function a(a){__p&&__p();var c=a.children,d=a.color,e=a["data-testid"],f=a.display;f=f===void 0?"inline":f;var k=a.id,l=a.isDisabled;l=l===void 0?!1:l;var m=a.overflowWrap;m=m===void 0?"normal":m;var n=a.size;n=n===void 0?"value":n;var o=a.textAlign;o=o===void 0?"inherit":o;var p=a.weight;p=p===void 0?"normal":p;a=a.whiteSpace;a=a===void 0?"initial":a;var q=j(f);d=b("useGeoTextStyle")({color:d,display:f,isDisabled:l,overflowWrap:m,size:n,textAlign:o,weight:p,whiteSpace:a});return b("React").jsx(q,{"aria-level":h(n),className:(g||(g=b("stylex")))(d),"data-testid":e,id:k,role:i(n)?"header":null,children:c})}e.exports=b("makeGeoComponent")("GeoPrimitiveText",a)}),null);
__d("GeoDataText.react",["GeoPrimitiveText.react","React","makeGeoComponent"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children,d=a.display;d=d===void 0?"block":d;var e=a.textAlign;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","display","textAlign"]);return b("React").jsx(b("GeoPrimitiveText.react"),babelHelpers["extends"]({color:"value",display:d,size:"data",textAlign:e},a,{children:c}))}e.exports=b("makeGeoComponent")("GeoDataText",a)}),null);
__d("GeoHeading.react",["GeoPrimitiveText.react","GeoTextUtils","React","makeGeoComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("GeoTextUtils").mapHeadingLevelToSize;function a(a){var c=a.children,d=a.display;d=d===void 0?"block":d;var e=a.level,f=a.textAlign;f=f===void 0?"start":f;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","display","level","textAlign"]);return b("React").jsx(b("GeoPrimitiveText.react"),babelHelpers["extends"]({color:"heading",display:d,size:g(e),textAlign:f,weight:"bold"},a,{children:c}))}e.exports=b("makeGeoComponent")("GeoHeading",a)}),null);
__d("GeoText.react",["GeoPrimitiveText.react","React","makeGeoComponent"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children,d=a.display;d=d===void 0?"inline":d;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","display"]);return b("React").jsx(b("GeoPrimitiveText.react"),babelHelpers["extends"]({color:"value",display:d,size:"value"},a,{children:c}))}e.exports=b("makeGeoComponent")("GeoText",a)}),null);
__d("GeoTextPairing.react",["GeoDataText.react","GeoHeading.react","GeoPrimitiveText.react","GeoText.react","GeoTextUtils","React","makeGeoComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("GeoTextUtils").getPairingTextPropsForSize,h=b("GeoTextUtils").mapHeadingSizeToLevel;function i(a){var c=a.size,d=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["size","children"]);switch(c){case"value":return b("React").jsx(b("GeoText.react"),babelHelpers["extends"]({display:"block"},a,{children:d}));case"data":return b("React").jsx(b("GeoDataText.react"),babelHelpers["extends"]({},a,{children:d}));case"header2":case"header3":return b("React").jsx(b("GeoHeading.react"),babelHelpers["extends"]({level:h(c)},a,{children:d}));default:return null}}function a(a){var c,d=a.description,e=a.headingId,f=a.size,h=a.textAlign;a=a.heading;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(i,{id:e,size:f,textAlign:h,children:a}),c.jsx(b("GeoPrimitiveText.react"),babelHelpers["extends"]({textAlign:h},g(f),{children:d}))]})}e.exports=b("makeGeoComponent")("GeoTextPairing",a)}),null);
__d("GroupSellProductDetailActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:GroupSellProductDetailActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:GroupSellProductDetailActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:GroupSellProductDetailActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTimeStr=function(a){this.$1.client_time_str=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setIsEmployee=function(a){this.$1.is_employee=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setStoryID=function(a){this.$1.story_id=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={client_time_str:!0,event:!0,exception_message:!0,group_id:!0,is_employee:!0,referral_surface:!0,story_id:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("GroupCommerceProductDetailImageContainer.react",["cx","DOM","Event","GroupSellProductDetailActionsTypedLogger","Image.react","React","ScaledImage.react","ScrollableArea.react","Style","Vector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=38,i=483;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.$6=function(a){__p&&__p();var b=a.target;if(b.nodeName==="INPUT"||b.nodeName==="TEXTAREA")return;while(b){if(b.id===e.props.ufiID)return;b=b.parentElement}switch(a.keyCode){case 37:case 38:a.stopPropagation();e.$9();break;case 39:case 40:a.stopPropagation();e.$10();break}};e.$11=function(a){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("photo_click").setStoryID(e.props.storyID).setGroupID(e.props.group.id).log(),e.$7(a,e.props.media),e.setState({currentIndex:a})};e.state={currentIndex:0,stageWidth:e.props.maxWidth||i,stageHeight:558};return e}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_57xm",children:this.$2()}),b("React").jsx("div",{className:"_57xn",children:this.props.media.length?this.$3():this.$4()})]})};d.componentDidUpdate=function(a,c){this.props.media&&this.props.media.length>1&&this.props.media!==a.media?(this.$5(),this.$1=b("Event").listen(document.body,"keydown",this.$6)):(!this.props.media||this.props.media.length<1)&&this.$5()};d.componentWillUnmount=function(){this.$5()};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();if(this.props.media!==a.media){var b=0;if(a.media.length<1)this.setState({stageWidth:this.props.maxWidth||i});else{var c=this.props.query;c&&c.fbid&&(b=a.media.findIndex(function(a){return a.id.toString()===c.fbid}),b==-1&&(b=0));this.$7(b,a.media)}this.setState({currentIndex:b})}};d.$4=function(){__p&&__p();var a=this.props.elem;if(!a)return null;var c=b("DOM").scry(a,"img")[0];a=b("DOM").scry(a,"i")[0];if(c){var d=b("Vector").from(c.naturalWidth,c.naturalHeight);return b("React").jsx(b("Image.react"),{className:"_580_",width:d.x,height:d.y,src:c.src,style:this.$8(d.x,d.y)})}else if(a){c=b("Style").get(a,"backgroundImage").replace(/.*url\(\"?([^\"]*)\"?\).*/,"$1");return b("React").jsx(b("Image.react"),{className:"_580_",src:c})}return null};d.$5=function(){this.$1&&(this.$1.remove(),this.$1=null)};d.$7=function(a,b){__p&&__p();b=b[a];a=this.state.stageWidth;switch(b.aspect){case"horizontal":case"wide_horizontal":a=744;break;case"wide_vertical":a=314;break;case"vertical":a=419;break;case"square":a=558;break;case"height_bound":a=b.width;break}this.props.maxWidth!=null&&(a=Math.min(a,this.props.maxWidth));this.props.onResize(b.aspect,a);this.setState({stageWidth:a})};d.$10=function(){var a=this.state.currentIndex+1,b=this.props.media.length-1;a>b&&(a=0);this.$11(a)};d.$9=function(){var a=this.state.currentIndex-1,b=this.props.media.length-1;a<0&&(a=b);this.$11(a)};d.$3=function(){var a=[],c=this.props.media.length;for(var d=0;d<c;d++){var e=this.props.media[d];a.push(b("React").jsx(b("Image.react"),{className:(this.state.currentIndex!=d?"_5810":"")+" _580_",width:e.width,height:e.height,src:e.uri,style:this.$8(e.width,e.height)},"stage"+e.id+("_"+d)))}return a};d.$8=function(a,b){var c;a>this.state.stageWidth&&(c=this.state.stageWidth/a,a*=c,b*=c);b>this.state.stageHeight&&(c=this.state.stageHeight/b,a*=c,b*=c);return{paddingTop:(this.state.stageHeight-b)/2+"px",paddingLeft:(this.state.stageWidth-a)/2+"px",maxWidth:this.state.stageWidth,maxHeight:this.state.stageHeight}};d.$2=function(){var a=[],c=this.props.media.length;for(var d=0;d<c;d++){var e=this.props.media[d];a.push(b("React").jsx(b("ScaledImage.react"),{className:"_5811"+(this.state.currentIndex==d?" _5812":""),width:h,height:h,imageSize:{height:e.height,width:e.width},src:e.uriThumb,onClick:this.$11.bind(this,d)},"thumbnail"+e.id+("_"+d)))}return b("React").jsxs("div",{children:[b("React").jsx(b("ScrollableArea.react"),{height:this.props.maxHeight,shadow:!1,children:a}),b("React").jsx("div",{className:"_2dh4",style:{width:h}})]})};return c}(b("React").Component);e.exports=a}),null);
__d("GroupCommerceProductDetailRHCContent.react",["cx","fbt","ix","GroupSellProductDetailActionsTypedLogger","Image.react","React","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsxs("div",{className:"_4g63"+(this.props.actor.profilePicURI?"":" _34xy"),children:[b("React").jsxs("div",{className:"_4g65",children:[this.$1(),this.$2(),this.$3(),b("React").jsx("div",{className:"_4g67",children:this.props.description}),b("React").jsx("div",{className:"_4g68",children:this.props.actionButton})]}),b("React").jsx("div",{className:"_4g6d",onClick:function(){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("ufi_click").setStoryID(a.props.storyID).setGroupID(a.props.group.id).log()},ref:"ufi",role:"presentation",children:this.props.ufi})]})};d.$1=function(){var a=this.props.product.statusText?this.props.product.statusText+" "+this.props.product.title:this.props.product.title;return b("React").jsx(b("XUIText.react"),{id:this.props.titleID,className:"_4g6e",children:a})};d.$3=function(){var a=this.props.product.price;this.props.product.previousPrice!==null&&this.props.product.priceDropEnabled&&(a=h._("Now {current_price}",[h._param("current_price",a)]));var c=null;this.props.product.priceDropEnabled&&(c=b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx(b("XUIGrayText.react"),{className:"_3crf",shade:"light",size:"meta1",children:this.props.product.previousPrice})," "]}));return b("React").jsxs("div",{className:"_4g66",children:[c,a]})};d.$2=function(){var a=this.props.product.deliveryNote?b("React").jsx(b("XUIText.react"),{display:"inline",children:this.props.product.deliveryNote}):null,c=a?b("React").jsx(b("Image.react"),{className:"_4g6g",src:i("75362")}):null;return b("React").jsxs("div",{className:"_4g6h",children:[c,b("React").jsx(b("XUIText.react"),{children:a})]})};return c}(b("React").Component);c.propTypes={actor:a.object.isRequired,product:a.object.isRequired,group:a.object.isRequired,feedback:a.object.isRequired,ufi:a.any.isRequired,actionButton:a.any.isRequired,storyID:a.string,description:a.any.isRequired,titleID:a.string};e.exports=c}),null);
__d("ContextualProfileModal.react",["cx","FBModal.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.children,e=c.hideOnWashClick,f=c.onHide;c=babelHelpers.objectWithoutPropertiesLoose(c,["children","hideOnWashClick","onHide"]);var g=null;e===!0&&(g=function(b){b.target===a.$1&&f(b)});return b("React").jsx(b("FBModal.react"),babelHelpers["extends"]({},c,{className:"_4uwe",onHide:f,children:b("React").jsx("div",{onClick:g,ref:function(b){return a.$1=b},role:"presentation",children:d})}))};return c}(b("React").Component);e.exports=a}),null);
__d("ContextualProfileModalPlaceholder.react",["cx","ContextualProfileModal.react","FBModalCloseButton.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs(b("ContextualProfileModal.react"),{hideOnWashClick:!0,onHide:this.props.toggleShowState,shown:!0,children:[a.jsx(b("FBModalCloseButton.react"),{onToggleClick:this.props.toggleShowState}),a.jsx("div",{className:"_h23",children:a.jsx(b("XUISpinner.react"),{background:"dark",size:"large"})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ContextualProfileLink.react",["BootloadOnRender.react","ContextualProfileModalPlaceholder.react","LazyComponent.react","Link.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={layerShown:!1},c.$1=function(){c.$3(),c.props.onClick&&c.props.onClick()},c.$3=function(){c.setState(function(a){return{layerShown:!a.layerShown}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx(b("Link.react"),babelHelpers["extends"]({},this.props,{onClick:this.$1,children:this.props.children})),this.$2()]})};d.$2=function(){return!this.state.layerShown?null:b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props.modalProps,{onHide:this.$3,profileID:this.props.profileID})),loader:this.props.resource,placeholder:b("React").jsx(b("ContextualProfileModalPlaceholder.react"),{toggleShowState:this.$3})})};return c}(b("React").Component);e.exports=a}),null);
__d("GroupCommerceProductDetailRHCHeader.react",["cx","ix","ContextualProfileLink.react","GroupSellProductDetailActionsTypedLogger","Image.react","JSResource","Link.react","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","XUIContextualDialogBody.react","classWithMixins","isEmpty","mixin","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("React").PropTypes;var j=104,k=40;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderLayers=function(){var a=this,c,d;return{actorDialog:(c=b("React")).jsx(d=b("XUIContextualDialog.react"),{contextRef:function(){return a.refs.actorName},shown:!0,hoverContextRef:function(){return a.refs.actorName},hideOnEscape:!0,hoverHideDelay:0,hoverShowDelay:500,autoFocus:!1,width:d.WIDTH.WIDE,position:"below",children:c.jsx(b("XUIContextualDialogBody.react"),{children:c.jsx("div",{id:this.props.actorHoverID})})}),actorImageDialog:c.jsx(d,{contextRef:function(){return a.refs.actorImage},shown:!0,hoverContextRef:function(){return a.refs.actorImage},hideOnEscape:!0,hoverHideDelay:0,hoverShowDelay:500,autoFocus:!1,width:d.WIDTH.WIDE,position:"below",children:c.jsx(b("XUIContextualDialogBody.react"),{children:c.jsx("div",{id:this.props.actorImageHoverID})})}),groupDialog:c.jsx(d,{contextRef:function(){return a.refs.groupName},shown:!0,hoverContextRef:function(){return a.refs.groupName},hideOnEscape:!0,hoverHideDelay:0,hoverShowDelay:500,autoFocus:!1,width:d.WIDTH.WIDE,position:"below",children:c.jsx(b("XUIContextualDialogBody.react"),{children:c.jsx("div",{id:this.props.groupHoverID})})})}};d.render=function(){var a=this,c=b("qex")._("876583")?b("React").jsx(b("ContextualProfileLink.react"),{modalProps:{isBSGItem:!0,forSaleItemID:this.props.product.id,onHidePDP:this.props.hideDialog},onClick:function(){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("profile_link_click").setStoryID(a.props.storyID).setGroupID(a.props.group.id).log()},profileID:this.props.actor.id,resource:b("JSResource")("MarketplaceProfile.react").__setRef("GroupCommerceProductDetailRHCHeader.react"),children:this.props.actor.name}):b("React").jsx(b("Link.react"),{href:this.props.actor.uri,onClick:function(){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("profile_link_click").setStoryID(a.props.storyID).setGroupID(a.props.group.id).log(),a.props.hideDialog()},children:this.props.actor.name});return b("React").jsxs("div",{className:"_34xx"+(this.props.actor.profilePicURI?"":" _34xy"),children:[b("React").jsx(b("Image.react"),{className:"_34xz",width:k,height:k,src:this.props.actor.profilePicURI,ref:"actorImage"}),b("React").jsxs("div",{className:"_34x-",children:[b("React").jsxs("div",{className:"_34x_",children:[b("React").jsx("div",{ref:"actorName",className:"_34y0",children:c}),(i||(i=b("isEmpty")))(this.props.group)?null:b("React").jsx(b("Image.react"),{className:"_34y1",src:h("82443")}),b("React").jsx("div",{ref:"groupName",className:"_34y0",children:b("React").jsx(b("Link.react"),{href:this.props.group.uri,onClick:function(){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("group_link_click").setStoryID(a.props.storyID).setGroupID(a.props.group.id).log(),a.props.hideDialog()},children:this.props.group.name})})]}),b("React").jsx("div",{className:"_4g6i",children:b("React").jsx(b("Link.react"),{href:this.props.product.uri,onClick:function(){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("permalink_click").setStoryID(a.props.storyID).setGroupID(a.props.group.id).log(),a.props.hideDialog()},children:this.props.timestamp})})]}),b("React").jsx("div",{id:this.props.chevronID})]})};d.componentDidUpdate=function(a,b){a=this.refs.actorName.offsetWidth;b=j-a;this.refs.groupName.style.maxWidth=j+b+"px"};return c}(b("classWithMixins")(b("React").Component,b("mixin")(b("ReactLayeredComponentMixin_DEPRECATED"))));c.propTypes={actor:a.object.isRequired,group:a.object.isRequired,storyID:a.string,actorHoverID:a.string.isRequired,actorImageHoverID:a.string.isRequired,groupHoverID:a.string.isRequired,chevronID:a.string.isRequired,product:a.object.isRequired,timestamp:a.any.isRequired};e.exports=c}),null);
__d("MarketplaceUpsellIconLink.react",["ix","cx","fbt","FlexLayout.react","Image.react","Link.react","React","XUIText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c;return(c=b("React")).jsx(b("Link.react"),{className:a.className,href:a.href,children:c.jsx(b("XUIText.react"),{className:"_15t5",size:"header4",children:c.jsxs(b("FlexLayout.react"),{align:"center",children:[c.jsx("div",{className:"_6u4t _3-91",children:c.jsx(b("Image.react"),{src:g("504156")})}),c.jsx("div",{children:i._("View More Items for Sale on Marketplace")}),c.jsx(b("Image.react"),{className:"_3-9b",src:g("482834")})]})})})}e.exports=a}),null);
__d("XGroupCommerceMarketplaceProductDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/product_detail/",{sale_post_id:{type:"FBID",required:!0},ufi_id:{type:"String",required:!0},date_time_id:{type:"String",required:!0},action_button_id:{type:"String",required:!0},actor_dialog_id:{type:"String",required:!0},actor_image_dialog_id:{type:"String",required:!0},description_id:{type:"String",required:!0},title_id:{type:"String",required:!0},group_hover_id:{type:"String",required:!0},ufi_instance_id:{type:"String",required:!0},chevron_id:{type:"String",required:!0},story_dom_id:{type:"String"}})}),null);
__d("GroupCommerceProductDetail.react",["cx","fbt","Arbiter","AsyncRequest","CurrentUser","GroupCommerceProductDetailImageContainer.react","GroupCommerceProductDetailRHCContent.react","GroupCommerceProductDetailRHCHeader.react","GroupSellProductDetailActionsTypedLogger","LayerFadeOnHide","LayerHideOnEscape","LeftRight.react","MarketplaceUpsellIconLink.react","React","ReactRenderer","ResponsiveBlock.react","ScrollableArea.react","XGroupCommerceMarketplaceProductDetailController","XMarketplaceHomePageController","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUISpinner.react","guid"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=558,j=530,k=891;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d,e){__p&&__p();var f;f=a.call(this,d,e)||this;f.hideDialog=function(){f.$3(!1)};f.$6=function(a,b){__p&&__p();var c=f.state.width;switch(a){case"horizontal":case"wide_horizontal":c=1153;break;case"wide_vertical":c=723;break;case"vertical":c=828;break;case"square":c=967;break;case"height_bound":c=b+409;break}f.setState({width:c})};f.$4=function(a,b){b>i&&(b=i),f.setState({rhcHeight:b})};f.$3=function(a){c.$9!==null&&f.setState({isDialogShown:a}),a||(new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("hide_dialog").setStoryID(f.state.payload.storyID).setGroupID(f.state.payload.group.id).log(),f.props.onHide&&f.props.onHide(),c.$9!==null&&window.setTimeout(function(){f.setState({payload:f.$7(),query:null,elem:null})}))};f.$5=function(a){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("show_dialog").setStoryID(a.payload.storyID).setGroupID(a.payload.group.id).log(),f.setState({payload:a.payload,isDialogShown:!0,isLoading:!1,isMarketplaceUpsellShown:!a.payload.isViewerSeller})};d=babelHelpers.assertThisInitialized(f);d.hideDialog=f.hideDialog.bind(babelHelpers.assertThisInitialized(f));d.showDialog=f.showDialog.bind(babelHelpers.assertThisInitialized(f));d.$3=f.$3.bind(babelHelpers.assertThisInitialized(f));d.$4=f.$4.bind(babelHelpers.assertThisInitialized(f));d.$5=f.$5.bind(babelHelpers.assertThisInitialized(f));d.$6=f.$6.bind(babelHelpers.assertThisInitialized(f));f.$2={};f.state={isDialogShown:!1,isLoading:!1,isMarketplaceUpsellShown:!1,width:k,rhcHeight:200,payload:f.$7(),ufiID:"ufi_detail_"+b("guid")(),datetimeID:"datetime_"+b("guid")(),actionButtonID:"actionButton"+b("guid")(),actorHoverID:"actorHoverID"+b("guid")(),actorImageHoverID:"actorImageHoverID"+b("guid")(),descriptionID:"descriptionID"+b("guid")(),titleID:"titleID"+b("guid")(),groupHoverID:"groupHoverID"+b("guid")(),ufiInstanceID:"ufiInstanceID"+b("guid")(),chevronID:"chevronID"+b("guid")(),query:null,elem:null,salePostID:null,storyDomID:null};return f}var d=c.prototype;d.componentDidMount=function(){this.$1=b("Arbiter").subscribe("XComposerEditDialog/doneEditing",function(){this.state.salePostID&&this.$8(this.state.salePostID,this.state.storyDomID)}.bind(this))};d.componentWillUnmount=function(){var a=this.refs.modal;a!=null&&a.layer.hide();c.$9=null;this.$1&&this.$1.unsubscribe();this.$1=null};d.renderModal=function(a){return b("React").jsxs(b("XUIDialog.react"),{shown:!0,onToggle:this.$3,ref:"modal",width:this.state.width,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},className:"_1mlf",children:[b("React").jsx(b("XUIDialogTitle.react"),{children:h._("Item Details")}),b("React").jsx(b("XUIDialogBody.react"),{children:a}),this.$10()]})};d.render=function(){if(!this.state.isDialogShown)return null;var a=b("React").jsx("span",{id:this.state.datetimeID}),c=b("React").jsx("div",{id:this.state.ufiID}),d=b("React").jsx("div",{id:this.state.actionButtonID}),e=b("React").jsx("div",{className:"_3g5q",id:this.state.descriptionID});a=b("React").jsx("div",{className:"_3g6d",children:b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx("div",{className:"_3g6e",children:b("React").jsx(b("GroupCommerceProductDetailImageContainer.react"),{elem:this.state.elem,group:this.state.payload.group,maxHeight:j,maxWidth:this.props.maxImageWidth,media:this.state.payload.media,onResize:this.$6,query:this.state.query,storyID:this.state.payload.storyID,ufiID:this.state.ufiID})}),b("React").jsx("div",{className:"_3g6f",children:b("React").jsx(b("ScrollableArea.react"),{className:"_3g6g",height:this.state.rhcHeight,children:b("React").jsxs(b("ResponsiveBlock.react"),{className:"_3g6h",onResize:this.$4,children:[this.$11(),b("React").jsx(b("GroupCommerceProductDetailRHCHeader.react"),{actor:this.state.payload.actor,group:this.state.payload.group,hideDialog:this.hideDialog,storyID:this.state.payload.storyID,actorHoverID:this.state.actorHoverID,actorImageHoverID:this.state.actorImageHoverID,groupHoverID:this.state.groupHoverID,chevronID:this.state.chevronID,product:this.state.payload.product,timestamp:a}),b("React").jsx(b("GroupCommerceProductDetailRHCContent.react"),{actor:this.state.payload.actor,product:this.state.payload.product,group:this.state.payload.group,feedback:this.state.payload.feedback,actionButton:d,ufi:c,hideDialog:this.hideDialog,storyID:this.state.payload.storyID,description:e,titleID:this.state.titleID})]})})})]})});return this.props.useModal===!1?a:this.renderModal(a)};d.showDialog=function(a,b,c,d,e){this.$8(a,d,e),this.setState({payload:this.$7(),salePostID:a,query:b,elem:c,storyDomID:d,isDialogShown:!0,isLoading:!0,width:k})};d.$10=function(){if(b("CurrentUser").isWorkUser()||this.state.isLoading||!this.state.isMarketplaceUpsellShown)return null;var a=b("XMarketplaceHomePageController").getURIBuilder().setString("ref","sale_groups").getURI();return b("React").jsx(b("MarketplaceUpsellIconLink.react"),{className:"_1mle _2pie",href:a})};d.$11=function(){return!this.state.isLoading?null:b("React").jsx("div",{className:"_msc",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})};d.$8=function(a,c,d){d===void 0&&(d=function(){});c=b("XGroupCommerceMarketplaceProductDetailController").getURIBuilder().setFBID("sale_post_id",a).setString("ufi_id",this.state.ufiID).setString("date_time_id",this.state.datetimeID).setString("action_button_id",this.state.actionButtonID).setString("actor_dialog_id",this.state.actorHoverID).setString("actor_image_dialog_id",this.state.actorImageHoverID).setString("description_id",this.state.descriptionID).setString("title_id",this.state.titleID).setString("group_hover_id",this.state.groupHoverID).setString("ufi_instance_id",this.state.ufiInstanceID).setString("chevron_id",this.state.chevronID).setString("story_dom_id",c).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("GET").setHandler(this.$5).setErrorHandler(function(c){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("async_data_request_fail").setStoryID(a.toString()).log(),d()}).setReadOnly(!0).send()};d.$7=function(){return{actor:{profilePicURI:null},group:{},product:{},feedback:{},media:[],ufi:{}}};c.init=function(a,d){d===void 0&&(d={});d=b("ReactRenderer").constructAndRenderComponent(c,babelHelpers["extends"]({},d),a);c.$12=a;c.$9=d;c.$13&&(c.showDialog(c.$13,c.$14,c.$15,c.$16),c.$13=null,c.$14=null,c.$15=null,c.$16=null)};c.showDialog=function(a,d,e,f,g){__p&&__p();g===void 0&&(g=function(){});if(!c.$9){if(!c.$12){c.$13=a;c.$14=d;c.$15=e;c.$16=f;return}c.init(c.$12)}if(!c.$9){new(b("GroupSellProductDetailActionsTypedLogger"))().setEvent("dialog_instance_null").setStoryID(a.toString()).log();return}c.$9.showDialog(a,d,e,f,g)};return c}(b("React").Component);a.defaultProps={onHide:function(){},useModal:!0};a.$9=null;a.$13=null;a.$12=null;a.$15=null;a.$14=null;a.$16=null;e.exports=a}),null);
__d("GroupCommerceProductDetailLayer",["GroupCommerceProductDetail.react","Layer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._buildWrapper=function(a,c){b("GroupCommerceProductDetail.react").init(c);return c};return c}(b("Layer"));e.exports=a}),null);
__d("MarketplaceDesktopAdsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MarketplaceDesktopAdsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MarketplaceDesktopAdsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MarketplaceDesktopAdsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExtra=function(a){this.$1.extra=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event_name:!0,extra:!0,time:!0,weight:!0};e.exports=a}),null);
__d("MarketplaceErrorDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MarketplaceErrorDebugLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MarketplaceErrorDebugLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MarketplaceErrorDebugLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientEventTime=function(a){this.$1.client_event_time=a;return this};c.setClientSessionID=function(a){this.$1.client_session_id=a;return this};c.setClientSessionReferral=function(a){this.$1.client_session_referral=a;return this};c.setComponentName=function(a){this.$1.component_name=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setNotifCount=function(a){this.$1.notif_count=a;return this};c.setQuery=function(a){this.$1.query=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRouteName=function(a){this.$1.route_name=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeSinceInitialNotifLoad=function(a){this.$1.time_since_initial_notif_load=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={client_event_time:!0,client_session_id:!0,client_session_referral:!0,component_name:!0,device_id:!0,error:!0,event:!0,notif_count:!0,query:!0,referral_surface:!0,route_name:!0,session_id:!0,surface:!0,time:!0,time_since_initial_notif_load:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MarketplaceClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("marketplace_click");e.exports=a}),null);
__d("MarketplaceImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("marketplace_impression");e.exports=a}),null);
__d("MarketplaceLoggingSurface",[],(function(a,b,c,d,e,f){"use strict";var g=null,h=null;a={getCurrentSurface:function(){return g},setCurrentSurface:function(a){g=a},getReferralSurface:function(){return h},setReferralSurface:function(a){h=a}};e.exports=a}),null);
__d("MarketplaceLogger",["FBLogger","LocalSellUserActionsTypedLogger","MarketplaceClickFalcoEvent","MarketplaceDesktopAdsTypedLogger","MarketplaceErrorDebugTypedLogger","MarketplaceImpressionFalcoEvent","MarketplaceImpressionsTypedLogger","MarketplaceLoggingSurface","gkx","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logClick:function(a,c){__p&&__p();var d="click",e=a==="feed_product_item";e&&!(c==null?void 0:c.storyType)?b("FBLogger")("marketplace").mustfix("story_type not set for %s on feed_product_item",d):e&&!(c==null?void 0:c.productItemID)&&b("FBLogger")("marketplace").mustfix("product_item_id not set for %s on feed_product_item",d);if(b("gkx")("1173661")){b("MarketplaceClickFalcoEvent").logImmediately(function(){return{otherUserID:Number(c==null?void 0:c.otherUserID),productItemID:c==null?void 0:c.productItemID,componentHierarchy:[{component:c==null?void 0:c.parentComponent}],referralCode:c==null?void 0:c.referralCode,referralStoryType:c==null?void 0:c.referralStoryType,referralSurface:b("MarketplaceLoggingSurface").getReferralSurface(),storyType:c==null?void 0:c.storyType,serverSessionID:c==null?void 0:c.serverSessionID,surface:b("MarketplaceLoggingSurface").getCurrentSurface(),themeID:c==null?void 0:c.themeID,tracking:c==null?void 0:c.tracking,uiComponent:a,componentID:(c==null?void 0:c.componentID)||(c==null?void 0:c.productItemID)}});return}e=new(b("LocalSellUserActionsTypedLogger"))().setEvent(d).setOtherUserID(c==null?void 0:c.otherUserID).setProductItemID(c==null?void 0:c.productItemID);e.setUIComponentHierarchyByName([c==null?void 0:c.parentComponent]);(c==null?void 0:c.extraData)&&e.updateExtraData(b("nullthrows")(c==null?void 0:c.extraData));e.setReferralCode(c==null?void 0:c.referralCode).setReferralStoryType(c==null?void 0:c.referralStoryType).setReferralSurface(b("MarketplaceLoggingSurface").getReferralSurface()).setStoryType(c==null?void 0:c.storyType).setServerSessionID(c==null?void 0:c.serverSessionID).setSurface(b("MarketplaceLoggingSurface").getCurrentSurface()).setThemeID(c==null?void 0:c.themeID).setTracking(c==null?void 0:c.tracking).setUIComponent(a).setUIComponentID((c==null?void 0:c.componentID)||(c==null?void 0:c.productItemID)).log()},logAdEvent:function(a){new(b("MarketplaceDesktopAdsTypedLogger"))().setExtra(a.extra).setEventName(a.eventName).logVital()},logImpression:function(a,c){__p&&__p();var d="impression",e=a==="feed_product_item";e&&!(c==null?void 0:c.storyType)?b("FBLogger")("marketplace").mustfix("story_type not set for %s on feed_product_item",d):e&&!(c==null?void 0:c.productItemID)&&b("FBLogger")("marketplace").mustfix("product_item_id not set for %s on feed_product_item",d);if(b("gkx")("1173661")){b("MarketplaceImpressionFalcoEvent").logImmediately(function(){return{otherUserID:Number(c==null?void 0:c.otherUserID),productItemID:c==null?void 0:c.productItemID,componentHierarchy:[{component:c==null?void 0:c.parentComponent}],referralCode:c==null?void 0:c.referralCode,referralStoryType:c==null?void 0:c.referralStoryType,referralSurface:b("MarketplaceLoggingSurface").getReferralSurface(),storyType:c==null?void 0:c.storyType,serverSessionID:c==null?void 0:c.serverSessionID,surface:b("MarketplaceLoggingSurface").getCurrentSurface(),themeID:c==null?void 0:c.themeID,tracking:c==null?void 0:c.tracking,uiComponent:a,componentID:(c==null?void 0:c.componentID)||(c==null?void 0:c.productItemID)}});return}e=new(b("MarketplaceImpressionsTypedLogger"))().setEvent(d).setOtherUserID(c==null?void 0:c.otherUserID).setProductItemID(c==null?void 0:c.productItemID);e.setUIComponentHierarchyByName([c==null?void 0:c.parentComponent]);e.setReferralCode(c==null?void 0:c.referralCode).setReferralStoryType(c==null?void 0:c.referralStoryType).setReferralSurface(b("MarketplaceLoggingSurface").getReferralSurface()).setStoryType(c==null?void 0:c.storyType).setServerSessionID(c==null?void 0:c.serverSessionID).setSurface(b("MarketplaceLoggingSurface").getCurrentSurface()).setThemeID(c==null?void 0:c.themeID).setTracking(c==null?void 0:c.tracking).setUIComponent(a).setUIComponentID((c==null?void 0:c.componentID)||(c==null?void 0:c.productItemID)).log()},logDebug:function(a,c){a=new(b("MarketplaceErrorDebugTypedLogger"))().setEvent(a);c.extraData&&a.updateExtraData(b("nullthrows")(c==null?void 0:c.extraData));c.productItemID!=null&&a.addToExtraData("productID",b("nullthrows")(c.productItemID).toString());a.addToExtraData("clienttime",Date.now().toString()).setReferralSurface(b("MarketplaceLoggingSurface").getReferralSurface()).setSurface(b("MarketplaceLoggingSurface").getCurrentSurface()).setError(c.error).setComponentName(c.componentName).setRouteName(c.routeName).log()}};e.exports=a}),null);
__d("MarketplaceUIComponent.react",["invariant","ErrorBoundary.react","Event","FBLogger","MarketplaceLogger","OnVisible.react","React","ReactDOM","clearTimeout","isFalsey","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$10=function(){d.props.logImpression&&d.props.impressionOnlyInViewport||g(0,5152);if(d.$1)return;var a=d.props.impressionInViewportDelayInMs;b("isFalsey")(a)?d.$6():d.$2=b("setTimeout")(d.$6,a)};d.$11=function(){d.$8()};d.$6=function(){if(d.$1)return;d.$1=!0;d.$8();b("MarketplaceLogger").logImpression(d.props.uiComponent,d.props.metadata);d.props.onImpression&&d.props.onImpression()};d.$12=function(){b("MarketplaceLogger").logClick(d.props.uiComponent,d.props.metadata),d.props.onClick&&d.props.onClick()};d.$1=!1;d.$2=null;d.$3=null;d.$4=!1;d.$5=null;return d}var d=c.prototype;d.componentDidMount=function(){this.props.logImpression&&!this.props.impressionOnlyInViewport&&this.$6(),this.props.logClick&&this.$7()};d.componentDidUpdate=function(){this.props.logClick&&this.$7()};d.componentWillUnmount=function(){this.$8(),this.$9()};d.$7=function(){if(this.$4)return;var a=b("ReactDOM").findDOMNode(this);if(!(a instanceof HTMLElement)){b("FBLogger")("marketplace").mustfix("no valid component to attach a click listener");return}this.$3&&a!==this.$5&&this.$9();this.$3||(this.$5=a,this.$3=b("Event").listen(a,"click",this.$12))};d.$8=function(){this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.$9=function(){this.$3&&(this.$3.remove(),this.$3=null)};d.render=function(){var a=null;try{a=b("React").Children.only(this.props.children)}catch(a){b("FBLogger")("marketplace").catching(a).mustfix("You must always pass exactly one child to MarketplaceUIComponent. This means that your component cannot conditionally render null or return an array of nodes.");return null}if(a&&this.props.logImpression&&this.props.impressionOnlyInViewport)return b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("OnVisible.react"),{onHidden:this.$11,onVisible:this.$10,children:a})});else return a};return c}(b("React").PureComponent);a.DEFAULT_VIEWPORT_DELAY_BEFORE_LOGGING=200;a.defaultProps={impressionOnlyInViewport:!1,logClick:!1,logImpression:!1};e.exports=a}),null);
__d("MarketplaceMessageSendErrorDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=(a=b("React")).jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{autoFocus:!0,label:"OK",onClick:this.props.onClick,use:"primary"})});return a.jsx(b("FDSModal.react"),{footer:c,header:a.jsx(b("FDSModalHeader.react"),{title:g._("Something Went Wrong")}),isShown:this.props.isShown,onHide:this.props.onHide,children:a.jsx(b("FDSSection.react"),{children:a.jsx("p",{children:g._("This seller may not be able to receive messages right now. Continue browsing Marketplace to find similar listings.")})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MarketplaceProductDetailsMessageSuggestions.react",["cx","List.react","MarketplaceUIComponent.react","React","ShimButton.react","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showSuggestions:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.callToActions||[];c=c.map(function(c,d){var e;return(e=b("React")).jsx("li",{children:e.jsx(b("MarketplaceUIComponent.react"),{logClick:!0,logImpression:!0,uiComponent:"message_suggestion",children:e.jsx(b("ShimButton.react"),{className:"_17dr _3-8y _3-91 _2pi3 _2pia",onClick:a.$1.bind(a,c.action_title),children:e.jsx(b("XUIText.react"),{size:"meta1",weight:"bold",children:c.action_title})})})},"suggestion_"+d)});return this.state.showSuggestions?b("React").jsx(b("List.react"),{border:"none",direction:"horizontal",edgepadding:!1,spacing:"none",valign:"middle",children:c}):null};d.$1=function(a){a!=null&&(this.props.onSuggestionClick(a),this.setState({showSuggestions:!1}))};return c}(b("React").Component);e.exports=a}),null);
__d("XMarketplaceMessageSellerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/_message_seller/",{for_sale_item_id:{type:"Int"},initial_clicked_component:{type:"String"},initial_tracking:{type:"String"},message:{type:"String"},referral_surface:{type:"String"},referral_story_type:{type:"String"},referral_ui_component:{type:"String"},surface:{type:"String"},tracking:{type:"String"},ui_component:{type:"String"},ad_id:{type:"String"}})}),null);
__d("MarketplaceMessageDialog.react",["ix","cx","fbt","AbstractTextArea.react","AsyncRequest","Image.react","LayerFadeOnHide","LayerHideOnEscape","MarketplaceLoggingSurface","MarketplaceMessageSendErrorDialog.react","MarketplaceProductDetailsMessageSuggestions.react","MarketplaceUIComponent.react","React","XMarketplaceMessageSellerController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isTextAreaEmpty:!0,isSendingMessage:!1,isMessageErrorDialogShown:!1},d.$1=null,d.$2=function(){d.setState({isMessageErrorDialogShown:!1})},d.$3=function(){d.setState({isMessageErrorDialogShown:!1})},d.$5=function(a){d.props.setMessageText(a),d.setState({isTextAreaEmpty:!1})},d.$4=function(){var a=d.$1;a!=null&&(a.getValue().length||d.setState({isTextAreaEmpty:!0}),d.props.setMessageText(a.getValue()))},d.$7=function(){d.setState({isSendingMessage:!0});var a=b("MarketplaceLoggingSurface").getCurrentSurface()=="product_details"?b("MarketplaceLoggingSurface").getReferralSurface():b("MarketplaceLoggingSurface").getCurrentSurface();a=b("XMarketplaceMessageSellerController").getURIBuilder().setInt("for_sale_item_id",d.props.forSaleItemID).setString("referral_surface",a).setString("surface",d.props.surface).setString("tracking",d.props.trackingData).setString("message",b("nullthrows")(d.$1).getValue()).setString("ui_component",d.props.uiComponent).setString("referral_ui_component",d.props.referralUIComponent).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload().threadID;d.setState({isSendingMessage:!1,isMessageErrorDialogShown:!1});d.props.onMessageSent(a)}).setErrorHandler(function(){d.setState({isSendingMessage:!1,isMessageErrorDialogShown:!0})}).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1&&this.$1.focusInput()};d.render=function(){var a=this,c=this.props,d=c.categoryName,e=c.name,f=c.pageCategory;c=c.callToActions;var h=this.state.isTextAreaEmpty,k=this.props.messageText,l=this.state.isSendingMessage?i._("Sending Message"):i._("Send Message");return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("MarketplaceMessageSendErrorDialog.react"),{isShown:this.state.isMessageErrorDialogShown,onClick:this.$3,onHide:this.$2}),b("React").jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},onToggle:this.props.onDialogToggle,shown:!0,width:600,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:b("React").jsxs("div",{children:[b("React").jsx(b("Image.react"),{className:"_3-90 _1l_z",src:g("372642")}),i._("Message {seller_name}",[i._param("seller_name",e)])]})}),b("React").jsxs(b("XUIDialogBody.react"),{children:[b("React").jsx(b("AbstractTextArea.react"),{autoFocus:!0,className:"_1l_- _2ph-",disabled:this.state.isSendingMessage,onChange:this.$4,placeholder:i._("Select a message or type your own..."),ref:function(b){return a.$1=b},rows:j,value:k}),h&&b("React").jsx(b("MarketplaceProductDetailsMessageSuggestions.react"),{callToActions:c,categoryName:d,onSuggestionClick:this.$5,pageCategory:f})]}),b("React").jsx(b("XUIDialogFooter.react"),{leftContent:this.$6(f)?null:b("React").jsx(b("XUIText.react"),{className:"_1l__",size:"meta1",weight:"bold",children:i._("Don't share your email, phone number or financial information.")}),children:b("React").jsx(b("MarketplaceUIComponent.react"),{logClick:!0,logImpression:!0,metadata:{tracking:this.props.trackingData,serverSessionID:this.props.searchSessionID},uiComponent:"send_message_button",children:b("React").jsx(b("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSendingMessage||k==null||k.toString().trim().length===0,label:l,onClick:this.$7,use:"confirm"})})})]})]})};d.$6=function(a){return["CAR_DEALERSHIP","AUTOMOTIVE_DEALERSHIP"].includes(a)};return c}(b("React").PureComponent);a.defaultProps={surface:"product_details"};e.exports=a}),null);
__d("MarketplaceMessageButton",["fbt","invariant","ChatOpenTabEventLogger","FantaTabActions","MarketplaceMessageDialog.react","MarketplaceUIComponent.react","MercuryIDs","React","RelayAPIConfig","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,c){__p&&__p();var d,e;return e=d=function(d){__p&&__p();babelHelpers.inheritsLoose(e,d);function e(){__p&&__p();var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.state={messageText:null,showDialog:!1,threadID:null},b.$5=function(){var a=b.state.threadID;a?(b.$6(a),b.props.onMessageAgainClick&&b.props.onMessageAgainClick()):(b.setState({showDialog:!0}),b.props.onDialogToggle&&b.props.onDialogToggle(!0))},b.$1=function(a){b.setState({showDialog:a}),b.props.onDialogToggle&&b.props.onDialogToggle(a)},b.$2=function(a){b.setState({messageText:null,threadID:a},function(){b.$1(!1),b.$6(a)}),b.props.onMessageThreadInitiated&&b.props.onMessageThreadInitiated(a)},b.$3=function(a){b.setState({messageText:a})},a)||babelHelpers.assertThisInitialized(b)}var f=e.prototype;f.UNSAFE_componentWillMount=function(){this.setState({threadID:this.state.threadID||this.props.existingThreadID})};f.UNSAFE_componentWillReceiveProps=function(a){this.setState({threadID:this.state.threadID||a.existingThreadID})};f.render=function(){if(this.props.hasActiveShippingOrder){var d=this.props.sellerID===b("RelayAPIConfig").actorID;if(d)return b("React").jsx(b("XUIText.react"),{size:"meta1",weight:"normal",children:g._("This item has already been ordered.")});else return b("React").jsx(b("XUIText.react"),{size:"meta1",weight:"normal",children:g._("This item has already been ordered. Check back to see if it becomes available.")})}d=this.state.showDialog?b("React").jsx(b("MarketplaceMessageDialog.react"),babelHelpers["extends"]({},c,{callToActions:this.props.callToActions,categoryName:this.props.categoryName,forSaleItemID:this.props.forSaleItemID,messageText:this.state.messageText,name:this.props.name,onDialogToggle:this.$1,onMessageSent:this.$2,pageCategory:this.props.pageCategory,searchSessionID:this.props.searchSessionID,setMessageText:this.$3,trackingData:this.props.trackingData,referralUIComponent:this.props.referralUIComponent})):null;return b("React").jsx(b("MarketplaceUIComponent.react"),{logClick:!this.props.existingThreadID,logImpression:!this.props.existingThreadID,metadata:{tracking:this.props.trackingData,serverSessionID:this.props.searchSessionID},uiComponent:c.uiComponent,children:b("React").jsxs("div",{className:this.props.containerClass!=null&&this.props.containerClass,children:[d,b("React").jsx(a,babelHelpers["extends"]({},this.props,{label:this.props.label||this.$4(),onClick:this.$5}))]})})};f.$6=function(a){var c=this.props.sellerID,d=null;this.props.useCanonicalThread?(c||h(0,11753),d=b("MercuryIDs").getThreadIDFromUserID(c)):d=b("MercuryIDs").getThreadIDFromThreadFBID(a);b("FantaTabActions").openTab(d);b("ChatOpenTabEventLogger").logClickOpen("MarketplaceProductDetailsMessageSellerButton",d)};f.$4=function(){var a=g._("Message");return this.props.label?this.props.label:this.state.threadID?g._("Message Again"):this.props.pageCategory==="CAR_DEALERSHIP"?g._("Message Dealership"):a};return e}(b("React").Component),d.defaultProps={useCanonicalThread:!1},e}e.exports=a}),null);