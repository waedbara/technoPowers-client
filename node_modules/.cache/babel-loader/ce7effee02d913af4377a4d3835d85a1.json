{"ast":null,"code":"import _classCallCheck from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/waedas/Desktop/AhmadPro/techno-powers-client/src/components/FacebookComponent.js\";\nimport React, { Component } from \"react\";\nimport FacebookLogin from \"react-facebook-login\";\nimport ReactDOM from \"react-dom\";\nimport { doc } from \"prettier\";\n\nvar axios = require(\"axios\"); // const internalApi = \"https://apitechno-powers.com/technoPoers-API/\";\n\n\nvar internalApi = \"http://localhost:8080/\";\n\nvar responseFacebook =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(response) {\n    var accessToken, apiResponse;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(response, \"resssssssssssss\", response.accessToken);\n            accessToken = response.accessToken;\n            _context.prev = 2;\n            _context.next = 5;\n            return axios.post(\"\".concat(internalApi, \"api/users/social\"), {\n              method: \"facebook\",\n              token: accessToken\n            });\n\n          case 5:\n            apiResponse = _context.sent;\n\n            if (apiResponse.data.status === 200) {\n              localStorage.setItem(\"token\", apiResponse.data.token);\n              localStorage.setItem(\"username\", apiResponse.data.username);\n              localStorage.setItem(\"email\", apiResponse.data.email);\n              window.location.replace(window.location.origin);\n            } else {// NotificationManager.warning(\"Email or password is incorrect.\", \"\", 3000);\n            }\n\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            console.log(_context.t0);\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n\n  return function responseFacebook(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar FacebookComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FacebookComponent, _Component);\n\n  function FacebookComponent() {\n    _classCallCheck(this, FacebookComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FacebookComponent).apply(this, arguments));\n  }\n\n  _createClass(FacebookComponent, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(FacebookLogin, {\n        appId: \"747798019364772\",\n        autoLoad: true,\n        fields: \"name,email,picture\" // callback={responseFacebook}\n        ,\n        icon: \"fa-facebook\" // icon='fa-facebook-square'\n        // cssClass='fb-customisation'\n        ,\n        callback: responseFacebook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return FacebookComponent;\n}(Component);\n\nexport { FacebookComponent as default };","map":{"version":3,"sources":["/home/waedas/Desktop/AhmadPro/techno-powers-client/src/components/FacebookComponent.js"],"names":["React","Component","FacebookLogin","ReactDOM","doc","axios","require","internalApi","responseFacebook","response","console","log","accessToken","post","method","token","apiResponse","data","status","localStorage","setItem","username","email","window","location","replace","origin","FacebookComponent"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,GAAT,QAAoB,UAApB;;AACA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB,C,CACA;;;AACA,IAAMC,WAAW,GAAG,wBAApB;;AAEA,IAAMC,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB,iBAAtB,EAAyCA,QAAQ,CAACG,WAAlD;AACIA,YAAAA,WAFmB,GAELH,QAAQ,CAACG,WAFJ;AAAA;AAAA;AAAA,mBAIKP,KAAK,CAACQ,IAAN,WAAcN,WAAd,uBAA6C;AACrEO,cAAAA,MAAM,EAAE,UAD6D;AAErEC,cAAAA,KAAK,EAAEH;AAF8D,aAA7C,CAJL;;AAAA;AAIfI,YAAAA,WAJe;;AAQrB,gBAAIA,WAAW,CAACC,IAAZ,CAAiBC,MAAjB,KAA4B,GAAhC,EAAqC;AACnCC,cAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,WAAW,CAACC,IAAZ,CAAiBF,KAA/C;AACAI,cAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,WAAW,CAACC,IAAZ,CAAiBI,QAAlD;AACAF,cAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,WAAW,CAACC,IAAZ,CAAiBK,KAA/C;AACAC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBF,MAAM,CAACC,QAAP,CAAgBE,MAAxC;AACD,aALD,MAKO,CACL;AACD;;AAfoB;AAAA;;AAAA;AAAA;AAAA;AAiBrBhB,YAAAA,OAAO,CAACC,GAAR;AAjBqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBH,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;IAsBqBmB,iB;;;;;;;;;;;;;6BACV;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AACE,QAAA,KAAK,EAAC,iBADR;AAEE,QAAA,QAAQ,EAAE,IAFZ;AAGE,QAAA,MAAM,EAAC,oBAHT,CAIE;AAJF;AAKE,QAAA,IAAI,EAAC,aALP,CAME;AACA;AAPF;AAQE,QAAA,QAAQ,EAAEnB,gBARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAcD;;;;EAhB4CP,S;;SAA1B0B,iB","sourcesContent":["import React, { Component } from \"react\";\nimport FacebookLogin from \"react-facebook-login\";\nimport ReactDOM from \"react-dom\";\nimport { doc } from \"prettier\";\nconst axios = require(\"axios\");\n// const internalApi = \"https://apitechno-powers.com/technoPoers-API/\";\nconst internalApi = \"http://localhost:8080/\";\n\nconst responseFacebook = async (response) => {\n  console.log(response, \"resssssssssssss\", response.accessToken);\n  let accessToken = response.accessToken;\n  try {\n    const apiResponse = await axios.post(`${internalApi}api/users/social`, {\n      method: \"facebook\",\n      token: accessToken,\n    });\n    if (apiResponse.data.status === 200) {\n      localStorage.setItem(\"token\", apiResponse.data.token);\n      localStorage.setItem(\"username\", apiResponse.data.username);\n      localStorage.setItem(\"email\", apiResponse.data.email);\n      window.location.replace(window.location.origin);\n    } else {\n      // NotificationManager.warning(\"Email or password is incorrect.\", \"\", 3000);\n    }\n  } catch (error) {\n    console.log(error);\n    return error;\n    // NotificationManager.warning(\"Email or password is incorrect.\", \"\", 3000);\n  }\n};\nexport default class FacebookComponent extends Component {\n  render() {\n    return (\n      <div>\n        <FacebookLogin\n          appId='747798019364772'\n          autoLoad={true}\n          fields='name,email,picture'\n          // callback={responseFacebook}\n          icon='fa-facebook'\n          // icon='fa-facebook-square'\n          // cssClass='fb-customisation'\n          callback={responseFacebook}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}