{"ast":null,"code":"import _classCallCheck from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waedas/Desktop/AhmadPro/techno-powers-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/waedas/Desktop/AhmadPro/techno-powers-client/src/components/FacebookComponent.js\";\nimport React, { Component } from \"react\";\nimport FacebookLogin from \"react-facebook-login\";\nimport ReactDOM from \"react-dom\";\nimport { doc } from \"prettier\";\nimport { NotificationContainer, NotificationManager } from \"react-notifications\";\n\nvar axios = require(\"axios\"); // const internalApi = \"https://apitechno-powers.com/technoPoers-API/\";\n\n\nvar internalApi = \"http://localhost:8080/\";\n\nvar responseFacebook =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(response) {\n    var apiResponse;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.post(\"\".concat(internalApi, \"api/users/social\"), {\n              method: \"facebook\",\n              token: response.accessToken\n            });\n\n          case 3:\n            apiResponse = _context.sent;\n\n            if (apiResponse.data.status === 200) {\n              localStorage.setItem(\"token\", apiResponse.data.token);\n              localStorage.setItem(\"username\", apiResponse.data.username);\n              localStorage.setItem(\"email\", apiResponse.data.email);\n              window.location.replace(window.location.origin);\n            } else {\n              NotificationManager.warning(apiResponse.data && apiResponse.data.msg ? apiResponse.data.msg : \"Something went wrong!!\", \"Error\", 3000);\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            NotificationManager.warning(_context.t0 && _context.t0.msg ? _context.t0.msg : \"Something went wrong!!\", \"Error\", 3000);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function responseFacebook(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar FacebookComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FacebookComponent, _Component);\n\n  function FacebookComponent() {\n    _classCallCheck(this, FacebookComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FacebookComponent).apply(this, arguments));\n  }\n\n  _createClass(FacebookComponent, [{\n    key: \"render\",\n    value: function render() {\n      return (// <div class=\"fb-login-button\" data-size=\"medium\" data-button-type=\"login_with\" data-layout=\"rounded\" data-auto-logout-link=\"false\" data-use-continue-as=\"false\" data-width=\"\"></div>\n        React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(FacebookLogin, {\n          appId: \"747798019364772\",\n          autoLoad: true,\n          fields: \"name,email,picture\",\n          dataSize: \"medium\" // icon='fa-facebook'\n          // icon='fa-facebook-square'\n          ,\n          cssClass: \"fb-login-button\",\n          callback: responseFacebook,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }))\n      );\n    }\n  }]);\n\n  return FacebookComponent;\n}(Component);\n\nexport { FacebookComponent as default };","map":{"version":3,"sources":["/home/waedas/Desktop/AhmadPro/techno-powers-client/src/components/FacebookComponent.js"],"names":["React","Component","FacebookLogin","ReactDOM","doc","NotificationContainer","NotificationManager","axios","require","internalApi","responseFacebook","response","post","method","token","accessToken","apiResponse","data","status","localStorage","setItem","username","email","window","location","replace","origin","warning","msg","FacebookComponent"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,GAAT,QAAoB,UAApB;AACA,SACEC,qBADF,EAEEC,mBAFF,QAGO,qBAHP;;AAKA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB,C,CACA;;;AACA,IAAMC,WAAW,GAAG,wBAApB;;AAEA,IAAMC,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEKJ,KAAK,CAACK,IAAN,WAAcH,WAAd,uBAA6C;AACrEI,cAAAA,MAAM,EAAE,UAD6D;AAErEC,cAAAA,KAAK,EAAEH,QAAQ,CAACI;AAFqD,aAA7C,CAFL;;AAAA;AAEfC,YAAAA,WAFe;;AAMrB,gBAAIA,WAAW,CAACC,IAAZ,CAAiBC,MAAjB,KAA4B,GAAhC,EAAqC;AACnCC,cAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,WAAW,CAACC,IAAZ,CAAiBH,KAA/C;AACAK,cAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,WAAW,CAACC,IAAZ,CAAiBI,QAAlD;AACAF,cAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,WAAW,CAACC,IAAZ,CAAiBK,KAA/C;AACAC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBF,MAAM,CAACC,QAAP,CAAgBE,MAAxC;AACD,aALD,MAKO;AACLpB,cAAAA,mBAAmB,CAACqB,OAApB,CACEX,WAAW,CAACC,IAAZ,IAAoBD,WAAW,CAACC,IAAZ,CAAiBW,GAArC,GACIZ,WAAW,CAACC,IAAZ,CAAiBW,GADrB,GAEI,wBAHN,EAIE,OAJF,EAKE,IALF;AAOD;;AAnBoB;AAAA;;AAAA;AAAA;AAAA;AAqBrBtB,YAAAA,mBAAmB,CAACqB,OAApB,CACE,eAAS,YAAMC,GAAf,GAAqB,YAAMA,GAA3B,GAAiC,wBADnC,EAEE,OAFF,EAGE,IAHF;;AArBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBlB,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;IA4BqBmB,iB;;;;;;;;;;;;;6BACV;AACP,aACE;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,aAAD;AACE,UAAA,KAAK,EAAC,iBADR;AAEE,UAAA,QAAQ,EAAE,IAFZ;AAGE,UAAA,MAAM,EAAC,oBAHT;AAIE,UAAA,QAAQ,EAAC,QAJX,CAKE;AACA;AANF;AAOE,UAAA,QAAQ,EAAC,iBAPX;AAQE,UAAA,QAAQ,EAAEnB,gBARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAFF;AAeD;;;;EAjB4CT,S;;SAA1B4B,iB","sourcesContent":["import React, { Component } from \"react\";\nimport FacebookLogin from \"react-facebook-login\";\nimport ReactDOM from \"react-dom\";\nimport { doc } from \"prettier\";\nimport {\n  NotificationContainer,\n  NotificationManager,\n} from \"react-notifications\";\n\nconst axios = require(\"axios\");\n// const internalApi = \"https://apitechno-powers.com/technoPoers-API/\";\nconst internalApi = \"http://localhost:8080/\";\n\nconst responseFacebook = async (response) => {\n  try {\n    const apiResponse = await axios.post(`${internalApi}api/users/social`, {\n      method: \"facebook\",\n      token: response.accessToken,\n    });\n    if (apiResponse.data.status === 200) {\n      localStorage.setItem(\"token\", apiResponse.data.token);\n      localStorage.setItem(\"username\", apiResponse.data.username);\n      localStorage.setItem(\"email\", apiResponse.data.email);\n      window.location.replace(window.location.origin);\n    } else {\n      NotificationManager.warning(\n        apiResponse.data && apiResponse.data.msg\n          ? apiResponse.data.msg\n          : \"Something went wrong!!\",\n        \"Error\",\n        3000\n      );\n    }\n  } catch (error) {\n    NotificationManager.warning(\n      error && error.msg ? error.msg : \"Something went wrong!!\",\n      \"Error\",\n      3000\n    );\n  }\n};\nexport default class FacebookComponent extends Component {\n  render() {\n    return (\n      // <div class=\"fb-login-button\" data-size=\"medium\" data-button-type=\"login_with\" data-layout=\"rounded\" data-auto-logout-link=\"false\" data-use-continue-as=\"false\" data-width=\"\"></div>\n      <div>\n        <FacebookLogin\n          appId='747798019364772'\n          autoLoad={true}\n          fields='name,email,picture'\n          dataSize='medium'\n          // icon='fa-facebook'\n          // icon='fa-facebook-square'\n          cssClass='fb-login-button'\n          callback={responseFacebook}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}